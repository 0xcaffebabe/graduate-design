{"version":3,"sources":["webpack:///./src/components/order/OrderDetail.vue?c463","webpack:///./src/service/OrderService.js","webpack:///./src/components/order/OrderItem.vue?234d","webpack:///./src/components/order/OrderEval.vue?5ea3","webpack:///src/components/order/OrderEval.vue","webpack:///./src/components/order/OrderEval.vue?ca5e","webpack:///./src/components/order/OrderEval.vue","webpack:///src/components/order/OrderItem.vue","webpack:///./src/components/order/OrderItem.vue?60e0","webpack:///./src/components/order/OrderItem.vue","webpack:///./src/components/order/OrderProduct.vue?e9a8","webpack:///src/components/order/OrderProduct.vue","webpack:///./src/components/order/OrderProduct.vue?5e06","webpack:///./src/components/order/OrderProduct.vue","webpack:///./src/components/order/OrderEval.vue?c533","webpack:///./src/views/Order.vue?8c40","webpack:///./src/components/order/OrderList.vue?6ee8","webpack:///src/components/order/OrderList.vue","webpack:///./src/components/order/OrderList.vue?fdb5","webpack:///./src/components/order/OrderList.vue","webpack:///./src/components/order/OrderDetail.vue?8a0a","webpack:///src/components/order/OrderDetail.vue","webpack:///./src/components/order/OrderDetail.vue?b6c1","webpack:///./src/components/order/OrderDetail.vue","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?81a5","webpack:///./src/views/Order.vue","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/components/order/OrderItem.vue?17e2","webpack:///./src/service/ProductService.js","webpack:///./src/components/order/OrderProduct.vue?f0aa"],"names":["moment","locale","OrderService","add","calendar","params","JSON","parse","stringify","deliveryId","Error","productList","map","v","productId","specId","quantity","productQuantity","repository","makeOrder","data","success","msg","page","size","getOrderList","orderId","getOrderDetail","forEach","productSpec","order","orderStatus","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","push","shopLogo","_v","_s","getOrderStatus","shopId","shopName","createTime","_l","img","key","Math","random","imgList","orderAmount","orderName","editable","_e","staticStyle","showOrderEval","showOrderDetail","staticRenderFns","$store","state","evalPaneShow","commit","model","value","callback","$$v","mainRate","expression","packageRate","tasteRate","minRows","maxRows","evalContent","fileList","class","riderRate","submitEval","methods","beforeUpload","$notify","title","message","type","computed","showSubRate","component","props","Object","required","Boolean","default","$emit","components","OrderEval","slot","shopInfo","item","productImg","productPrice","productName","specName","deliveryFee","getTotalPackageFee","getTotalAmount","orderList","handleShowOrderDetail","total","handleSizeChange","handlePageChange","orderDetailShow","orderDetail","handleDetailClose","path","OrderItem","getPayStatus","payStatus","consumerAddress","consumerName","consumerPhone","orderNote","OrderProduct","created","OrderList","scrollToTop","window","scrollTo","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined","ProductService","product","highPrice","productSpecList","price","lowPrice","packageFee","calcTotalPackageFee","calcTotalAmount"],"mappings":"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","file":"js/chunk-e2880524.c328cea5.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=style&index=0&id=50750720&lang=less&scoped=true&\"","import moment from 'moment'\r\nimport repository from '../repository'\r\nmoment.locale('zh-cn')\r\n// 订单服务\r\nclass OrderService {\r\n  getOrderDeliveryTime () {\r\n    return moment().add(1, 'hours').calendar()\r\n  }\r\n\r\n  async makeOrder (params) {\r\n    params = JSON.parse(JSON.stringify(params))\r\n    if (!params.deliveryId) {\r\n      throw new Error('下单失败:收货信息ID为空')\r\n    }\r\n    if (!params.productList) {\r\n      throw new Error('下单失败:下单商品列表为空')\r\n    }\r\n    params.productList = params.productList.map(v => {\r\n      return {\r\n        productId: v.productId,\r\n        specId: v.specId,\r\n        quantity: v.productQuantity\r\n      }\r\n    })\r\n    const data = await repository.makeOrder(params)\r\n    if (!data.success) {\r\n      throw new Error('下单失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getOrderList (page, size) {\r\n    const data = await repository.getOrderList(page, size)\r\n    if (!data.success) {\r\n      throw new Error('获取订单列表失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getOrderDetail (orderId) {\r\n    const data = await repository.getOrderDetail(orderId)\r\n    if (!data.success) {\r\n      throw new Error('获取订单详情失败:' + data.msg)\r\n    }\r\n    if (data.data && data.data.productList) {\r\n      data.data.productList.forEach(v => {\r\n        v.specId = v.productSpec\r\n      })\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  getOrderStatus (order) {\r\n    if (order.orderStatus === 0) {\r\n      return '未处理'\r\n    }\r\n    if (order.orderStatus === 1) {\r\n      return '已处理'\r\n    }\r\n    if (order.orderStatus === 2) {\r\n      return '配送中'\r\n    }\r\n    if (order.orderStatus === 3) {\r\n      return '已完结'\r\n    }\r\n    if (order.orderStatus === 4) {\r\n      return '已作废'\r\n    }\r\n  }\r\n}\r\nexport default new OrderService()\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"order-item\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"shop-img\",on:{\"click\":function($event){return _vm.$router.push('/shop/1')}}},[_c('el-avatar',{attrs:{\"src\":_vm.order.shopLogo,\"fit\":\"cover\",\"shape\":\"square\",\"size\":64}})],1)]),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticClass:\"order-status\"},[_vm._v(_vm._s(_vm.getOrderStatus(_vm.order)))]),_c('h4',{staticClass:\"shop-name\",on:{\"click\":function($event){return _vm.$router.push('/shop/' + _vm.order.shopId)}}},[_vm._v(_vm._s(_vm.order.shopName)+\" \"),_c('span',{staticClass:\"el-icon-arrow-right\"})]),_c('p',{staticClass:\"order-date\"},[_vm._v(_vm._s(_vm.order.createTime))]),_c('el-divider'),_c('el-row',[_c('el-col',{staticClass:\"order-detail\",attrs:{\"span\":18}},[_c('ul',{staticClass:\"order-img-list\"},_vm._l((_vm.order.imgList),function(img){return _c('li',{key:img + Math.random(),staticClass:\"order-img-item\"},[_c('el-image',{attrs:{\"fit\":\"cover\",\"src\":img,\"preview-src-list\":_vm.order.imgList}})],1)}),0)]),_c('el-col',{attrs:{\"span\":6}},[_c('p',{staticClass:\"order-price\"},[_vm._v(\"￥\"+_vm._s(_vm.order.orderAmount))]),_c('p',{staticClass:\"order-name\"},[_vm._v(_vm._s(_vm.order.orderName))])])],1),(_vm.getOrderStatus(_vm.order) === '配送中' && _vm.editable)?_c('div',{staticClass:\"amap-box-wrapper\"},[_c('el-amap',{staticClass:\"amap-box\",attrs:{\"zoom\":20,\"center\":[118.636466,24.873600]}},[_c('el-amap-marker',{attrs:{\"vid\":\"component-shop-marker\",\"position\":[118.637466,24.873400]}}),_c('el-amap-text',{attrs:{\"vid\":\"component-shop-text\",\"position\":[118.637466,24.873400],\"text\":'店铺'}}),_c('el-amap-marker',{attrs:{\"vid\":\"component-rider-marker\",\"position\":[118.637066,24.873700]}}),_c('el-amap-text',{attrs:{\"vid\":\"component-rider-text\",\"position\":[118.637066,24.873700],\"text\":'骑手'}})],1)],1):_vm._e(),(_vm.getOrderStatus(_vm.order) === '已完结' && _vm.editable)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"5px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":_vm.showOrderEval}},[_vm._v(\"评价订单\")]):_vm._e(),(_vm.editable)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"5px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push('/shop/' + _vm.order.shopId)}}},[_vm._v(\"再来一单\")]):_vm._e(),(_vm.editable)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"5px\"},attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.showOrderDetail(_vm.order.orderId)}}},[_vm._v(\"订单详情\")]):_vm._e()],1)],1),(_vm.editable)?_c('order-eval'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"订单评价\",\"visible\":_vm.$store.state.evalPaneShow,\"width\":\"30%\"},on:{\"close\":function($event){return _vm.$store.commit('closeEvalPaneShow')}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-avatar',{attrs:{\"src\":\"/imgs/foods/huangmenji.jpg\",\"fit\":\"cover\",\"shape\":\"square\",\"size\":48}})],1),_c('el-col',{attrs:{\"span\":16}},[_c('h4',{staticClass:\"shop-name\"},[_vm._v(\"黄焖鸡米饭 \"),_c('span',{staticClass:\"el-icon-arrow-right\"})])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"annoymous-wrapper\"},[_c('el-checkbox',{attrs:{\"label\":\"匿名评价\"}})],1)])],1),_c('div',{staticClass:\"shop-rate-wrapper\"},[_c('div',{staticClass:\"shop-main-rate\"},[_c('el-rate',{attrs:{\"colors\":['#99A9BF', '#F7BA2A', '#FF9900'],\"show-text\":\"\",\"allow-half\":\"\"},model:{value:(_vm.mainRate),callback:function ($$v) {_vm.mainRate=$$v},expression:\"mainRate\"}})],1),(_vm.showSubRate)?_c('div',{staticClass:\"shop-package-rate\"},[_c('span',[_vm._v(\"包装 \")]),_c('el-rate',{attrs:{\"colors\":['#99A9BF', '#F7BA2A', '#FF9900'],\"show-text\":\"\",\"allow-half\":\"\"},model:{value:(_vm.packageRate),callback:function ($$v) {_vm.packageRate=$$v},expression:\"packageRate\"}})],1):_vm._e(),(_vm.showSubRate)?_c('div',{staticClass:\"shop-package-rate\"},[_c('span',[_vm._v(\"味道 \")]),_c('el-rate',{attrs:{\"colors\":['#99A9BF', '#F7BA2A', '#FF9900'],\"show-text\":\"\",\"allow-half\":\"\"},model:{value:(_vm.tasteRate),callback:function ($$v) {_vm.tasteRate=$$v},expression:\"tasteRate\"}})],1):_vm._e()]),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 6},\"placeholder\":\"满意你就夸一夸\"},model:{value:(_vm.evalContent),callback:function ($$v) {_vm.evalContent=$$v},expression:\"evalContent\"}}),_c('el-upload',{staticClass:\"upload\",attrs:{\"action\":\"/upload\",\"auto-upload\":false,\"file-list\":_vm.fileList,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"添加照片\")])],1)],1),_c('el-divider'),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-avatar',{attrs:{\"src\":\"/imgs/rider.jpg\",\"fit\":\"cover\",\"shape\":\"square\",\"size\":48}})],1),_c('el-col',{attrs:{\"span\":14}},[_c('h4',{staticClass:\"shop-name\"},[_vm._v(\"杨超锋 \"),_c('span',{staticClass:\"fengniao-delivery\"},[_vm._v(\"蜂鸟专送\")])])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"annoymous-wrapper\"},[_c('span',{staticClass:\"el-icon-question\"},[_vm._v(\" 已对骑手匿名\")])])])],1),_c('ul',{staticClass:\"rider-eval-list\"},[_c('li',{staticClass:\"rider-eval-item\"},[_c('span',{staticClass:\"el-icon-heavy-rain rider-eval-icon\",class:{ 'active': _vm.riderRate === 'bad'},on:{\"click\":function($event){_vm.riderRate = 'bad'}}}),_c('p',[_vm._v(\"非常差\")])]),_c('li',{staticClass:\"rider-eval-item\"},[_c('span',{staticClass:\"el-icon-sunrise rider-eval-icon\",class:{ 'active': _vm.riderRate === 'normal'},on:{\"click\":function($event){_vm.riderRate = 'normal'}}}),_c('p',[_vm._v(\"一般\")])]),_c('li',{staticClass:\"rider-eval-item\"},[_c('span',{staticClass:\"el-icon-sunny rider-eval-icon\",class:{ 'active': _vm.riderRate === 'good'},on:{\"click\":function($event){_vm.riderRate = 'good'}}}),_c('p',[_vm._v(\"超赞\")])])]),_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitEval}},[_vm._v(\"提交评价\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"订单评价\"\r\n    :visible=\"$store.state.evalPaneShow\"\r\n    width=\"30%\"\r\n    @close=\"$store.commit('closeEvalPaneShow')\"\r\n    >\r\n    <el-row>\r\n      <el-col :span=\"4\">\r\n        <el-avatar src=\"/imgs/foods/huangmenji.jpg\" fit=\"cover\" shape=\"square\"  :size=\"48\"/>\r\n      </el-col>\r\n      <el-col :span=\"16\">\r\n        <h4 class=\"shop-name\">黄焖鸡米饭 <span class=\"el-icon-arrow-right\"></span></h4>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <div class=\"annoymous-wrapper\">\r\n          <el-checkbox label=\"匿名评价\"/>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"shop-rate-wrapper\">\r\n      <div class=\"shop-main-rate\">\r\n        <el-rate\r\n        v-model=\"mainRate\"\r\n        :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\r\n        show-text\r\n        allow-half/>\r\n      </div>\r\n      <div class=\"shop-package-rate\" v-if=\"showSubRate\">\r\n        <span>包装 </span>\r\n        <el-rate\r\n        v-model=\"packageRate\"\r\n        :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\r\n        show-text\r\n        allow-half/>\r\n      </div>\r\n      <div class=\"shop-package-rate\" v-if=\"showSubRate\">\r\n        <span>味道 </span>\r\n        <el-rate\r\n        v-model=\"tasteRate\"\r\n        :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\r\n        show-text\r\n        allow-half/>\r\n      </div>\r\n    </div>\r\n    <div style=\"margin-top:20px\">\r\n      <el-input\r\n        type=\"textarea\"\r\n        v-model=\"evalContent\"\r\n        :autosize=\"{ minRows: 4, maxRows: 6}\"\r\n        placeholder=\"满意你就夸一夸\"/>\r\n      <el-upload\r\n        class=\"upload\"\r\n        action=\"/upload\"\r\n        :auto-upload=\"false\"\r\n        :file-list=\"fileList\"\r\n        list-type=\"picture\">\r\n        <el-button size=\"small\" type=\"primary\">添加照片</el-button>\r\n      </el-upload>\r\n    </div>\r\n    <el-divider/>\r\n    <el-row>\r\n      <el-col :span=\"4\">\r\n        <el-avatar src=\"/imgs/rider.jpg\" fit=\"cover\" shape=\"square\"  :size=\"48\"/>\r\n      </el-col>\r\n      <el-col :span=\"14\">\r\n        <h4 class=\"shop-name\">杨超锋 <span class=\"fengniao-delivery\">蜂鸟专送</span></h4>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <div class=\"annoymous-wrapper\">\r\n          <span class=\"el-icon-question\"> 已对骑手匿名</span>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <ul class=\"rider-eval-list\">\r\n      <li class=\"rider-eval-item\">\r\n        <span @click=\"riderRate = 'bad'\" class=\"el-icon-heavy-rain rider-eval-icon\" :class=\"{ 'active': riderRate === 'bad'}\"></span>\r\n        <p>非常差</p>\r\n      </li>\r\n      <li class=\"rider-eval-item\">\r\n        <span @click=\"riderRate = 'normal'\" class=\"el-icon-sunrise rider-eval-icon\" :class=\"{ 'active': riderRate === 'normal'}\"></span>\r\n        <p>一般</p>\r\n      </li>\r\n      <li class=\"rider-eval-item\">\r\n        <span @click=\"riderRate = 'good'\" class=\"el-icon-sunny rider-eval-icon\" :class=\"{ 'active': riderRate === 'good'}\"></span>\r\n        <p>超赞</p>\r\n      </li>\r\n    </ul>\r\n    <el-button type=\"primary\" style=\"width:100%\" @click=\"submitEval\">提交评价</el-button>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      mainRate: 0,\r\n      packageRate: 0,\r\n      tasteRate: 0,\r\n      evalContent: '',\r\n      fileList: [],\r\n      riderRate: ''\r\n    }\r\n  },\r\n  methods: {\r\n    beforeUpload () {\r\n      return false\r\n    },\r\n    submitEval () {\r\n      this.$notify({\r\n        title: '成功',\r\n        message: '提交评价成功',\r\n        type: 'success'\r\n      })\r\n      this.$store.commit('closeEvalPaneShow')\r\n    }\r\n  },\r\n  computed: {\r\n    showSubRate () {\r\n      return this.mainRate !== 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .shop-name {\r\n    margin: 0;\r\n    padding: 0;\r\n    vertical-align: middle;\r\n    font-size: 16px;\r\n    height: 48px;\r\n    font-weight: 550;\r\n    line-height: 48px;\r\n    cursor: pointer;\r\n  }\r\n  .annoymous-wrapper {\r\n    height: 48px;\r\n    line-height: 48px;\r\n  }\r\n  .shop-rate-wrapper {\r\n    text-align: center;\r\n  }\r\n  .shop-main-rate /deep/ .el-rate__icon{\r\n    font-size: 32px;\r\n  }\r\n  .shop-package-rate {\r\n    margin-top: 20px;\r\n    /deep/ .el-rate__icon {\r\n      font-size: 26px;\r\n    }\r\n    .el-rate {\r\n      display: inline-block;\r\n    }\r\n  }\r\n  .upload {\r\n    margin-top: 20px;\r\n  }\r\n  .fengniao-delivery {\r\n    background-color: #409EFF;\r\n    color: white;\r\n    font-weight: 400;\r\n    margin-left: 10px;\r\n    font-size: 12px;\r\n    padding: 2px;\r\n    border-radius: 5px;\r\n  }\r\n  .rider-eval-list {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    .rider-eval-item {\r\n      flex: 0 0 33.33%;\r\n      text-align: center;\r\n    }\r\n    .rider-eval-icon {\r\n      font-size: 36px;\r\n      color: #ccc;\r\n      cursor: pointer;\r\n      transition: all 0.2s;\r\n    }\r\n    .rider-eval-icon:hover {\r\n      color: #E6A23C;\r\n    }\r\n    .active {\r\n      color: #E6A23C;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEval.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEval.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderEval.vue?vue&type=template&id=58f9c856&scoped=true&\"\nimport script from \"./OrderEval.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderEval.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderEval.vue?vue&type=style&index=0&id=58f9c856&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58f9c856\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-card class=\"order-item\">\r\n    <el-row>\r\n      <el-col :span=\"2\">\r\n        <div class=\"shop-img\" @click=\"$router.push('/shop/1')\">\r\n          <el-avatar :src=\"order.shopLogo\" fit=\"cover\" shape=\"square\"  :size=\"64\"></el-avatar>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"22\">\r\n        <span class=\"order-status\">{{getOrderStatus(order)}}</span>\r\n        <h4 class=\"shop-name\" @click=\"$router.push('/shop/' + order.shopId)\">{{order.shopName}} <span class=\"el-icon-arrow-right\"></span></h4>\r\n        <p class=\"order-date\">{{order.createTime}}</p>\r\n        <el-divider></el-divider>\r\n        <el-row>\r\n          <el-col :span=\"18\" class=\"order-detail\">\r\n            <ul class=\"order-img-list\">\r\n              <li v-for=\"img in order.imgList\" :key=\"img + Math.random()\" class=\"order-img-item\">\r\n                <el-image fit=\"cover\" :src=\"img\" :preview-src-list=\"order.imgList\"/>\r\n              </li>\r\n            </ul>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <p class=\"order-price\">￥{{order.orderAmount}}</p>\r\n            <p class=\"order-name\">{{order.orderName}}</p>\r\n          </el-col>\r\n        </el-row>\r\n        <div v-if=\"getOrderStatus(order) === '配送中' && editable\" class=\"amap-box-wrapper\">\r\n          <el-amap class=\"amap-box\" :zoom=\"20\" :center=\"[118.636466,24.873600]\" >\r\n            <el-amap-marker vid=\"component-shop-marker\" :position=\"[118.637466,24.873400]\"></el-amap-marker>\r\n            <el-amap-text vid=\"component-shop-text\" :position=\"[118.637466,24.873400]\" :text=\"'店铺'\"></el-amap-text>\r\n            <el-amap-marker vid=\"component-rider-marker\" :position=\"[118.637066,24.873700]\"></el-amap-marker>\r\n            <el-amap-text vid=\"component-rider-text\" :position=\"[118.637066,24.873700]\" :text=\"'骑手'\"></el-amap-text>\r\n          </el-amap>\r\n        </div>\r\n        <el-button v-if=\"getOrderStatus(order) === '已完结' && editable\" @click=\"showOrderEval\" size=\"mini\" type=\"warning\" style=\"float:right;margin-top:5px;margin-left:15px\">评价订单</el-button>\r\n        <el-button v-if=\"editable\" size=\"mini\" type=\"primary\" style=\"float:right;margin-top:5px;margin-left:15px\" @click=\"$router.push('/shop/' + order.shopId)\">再来一单</el-button>\r\n        <el-button v-if=\"editable\" size=\"mini\" type=\"success\" style=\"float:right;margin-top:5px\" @click=\"showOrderDetail(order.orderId)\">订单详情</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <order-eval v-if=\"editable\"/>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport orderService from '../../service/OrderService'\r\nimport OrderEval from './OrderEval'\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    editable: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {\r\n    getOrderStatus (order) {\r\n      return orderService.getOrderStatus(order)\r\n    },\r\n    showOrderDetail (orderId) {\r\n      this.$emit('show-order-detail', orderId)\r\n    },\r\n    showOrderEval (order) {\r\n      this.$store.commit('toogleEvalPaneShow')\r\n    }\r\n  },\r\n  components: {\r\n    OrderEval\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .order-item {\r\n    margin-bottom: 20px;\r\n    .shop-name {\r\n      display: inline-block;\r\n      margin: 0;\r\n      padding: 0;\r\n      vertical-align: middle;\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n    }\r\n    .el-avatar {\r\n      cursor: pointer;\r\n    }\r\n    .order-date {\r\n      font-size: 12px;\r\n      color: #666;\r\n    }\r\n    .order-price {\r\n      color:#f60;\r\n      font-size: 20px;\r\n      padding: 0;\r\n      margin: 0;\r\n      text-align: right;\r\n    }\r\n    .order-name {\r\n      text-align: right;\r\n      margin-top: 32px;\r\n      margin-bottom: 0;\r\n      color: #666;\r\n    }\r\n    .order-status {\r\n      font-size: 14px;\r\n      float: right;\r\n    }\r\n  }\r\n  .order-img-list {\r\n    margin: 0;\r\n  }\r\n  .order-img-item {\r\n    display: inline-block;\r\n    padding: 0 5px;\r\n    .el-image {\r\n      height: 100px;\r\n      width: 144px;\r\n      border-radius: 5px;\r\n    }\r\n  }\r\n  .amap-box {\r\n    width: 100%;\r\n    height: 400px;\r\n    border: 2px solid #409EFF;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderItem.vue?vue&type=template&id=29e9547f&scoped=true&\"\nimport script from \"./OrderItem.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderItem.vue?vue&type=style&index=0&id=29e9547f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29e9547f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\" \"+_vm._s(_vm.shopInfo.shopName)+\" \"),_c('span',{staticClass:\"el-icon-arrow-right\"})]),_c('ul',{staticClass:\"order-detail-list\"},[_vm._l((_vm.productList),function(item){return _c('li',{key:item.productId + '-' + item.specId,staticClass:\"order-detail-item\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-avatar',{attrs:{\"shape\":\"square\",\"src\":item.productImg}})],1),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"￥\"+_vm._s(item.productPrice))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#666\",\"margin-right\":\"20px\"}},[_vm._v(\"X \"+_vm._s(item.productQuantity))]),_c('h4',[_vm._v(_vm._s(item.productName))]),_c('span',{staticClass:\"spec-name\"},[_vm._v(_vm._s(item.specName))])])],1)],1)}),_c('el-divider'),_c('li',{staticClass:\"order-detail-item\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-tag',{attrs:{\"size\":\"medium\",\"effect\":\"dark\"}},[_c('span',{staticClass:\"el-icon-truck\"}),_vm._v(\" 配送费\")])],1),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"￥\"+_vm._s(_vm.shopInfo.deliveryFee))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#666\",\"margin-right\":\"20px\"}},[_vm._v(\"X 1\")])])],1)],1),_c('li',{staticClass:\"order-detail-item\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_c('span',{staticClass:\"el-icon-tableware\"}),_vm._v(\" 包装费\")])],1),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"￥\"+_vm._s(_vm.getTotalPackageFee()))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#666\",\"margin-right\":\"20px\"}},[_vm._v(\"X 1\")])])],1)],1),_c('li',{staticClass:\"order-detail-item\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"danger\"}},[_c('span',{staticClass:\"el-icon-s-goods\"}),_vm._v(\" 红包折扣\")])],1),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticClass:\"el-icon\"}),_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"-￥20\")])])],1)],1),_c('li',{staticClass:\"order-detail-item\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"warning\"}},[_c('span',{staticClass:\"el-icon-money\"}),_vm._v(\" 实付\")])],1),_c('el-col',{attrs:{\"span\":22}},[_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"￥\"+_vm._s(_vm.getTotalAmount()))])])],1)],1)],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card>\r\n            <div slot=\"header\">\r\n              {{shopInfo.shopName}} <span class=\"el-icon-arrow-right\"></span>\r\n            </div>\r\n            <ul class=\"order-detail-list\">\r\n              <li v-for=\"item in productList\" :key=\"item.productId + '-' + item.specId\" class=\"order-detail-item\">\r\n                <el-row>\r\n                  <el-col :span=\"2\">\r\n                    <el-avatar shape=\"square\" :src=\"item.productImg\"></el-avatar>\r\n                  </el-col>\r\n                  <el-col :span=\"22\">\r\n                    <span style=\"float:right\">￥{{item.productPrice}}</span>\r\n                    <span style=\"float:right;color:#666;margin-right:20px\">X {{item.productQuantity}}</span>\r\n                    <h4>{{item.productName}}</h4>\r\n                    <span class=\"spec-name\">{{item.specName}}</span>\r\n                  </el-col>\r\n                </el-row>\r\n              </li>\r\n              <el-divider></el-divider>\r\n              <li class=\"order-detail-item\">\r\n                <el-row>\r\n                  <el-col :span=\"2\">\r\n                    <el-tag size=\"medium\" effect=\"dark\"> <span class=\"el-icon-truck\"></span> 配送费</el-tag>\r\n                  </el-col>\r\n                  <el-col :span=\"22\">\r\n                    <span style=\"float:right\">￥{{shopInfo.deliveryFee}}</span>\r\n                    <span style=\"float:right;color:#666;margin-right:20px\">X 1</span>\r\n                  </el-col>\r\n                </el-row>\r\n              </li>\r\n              <li class=\"order-detail-item\">\r\n                <el-row>\r\n                  <el-col :span=\"2\">\r\n                    <el-tag size=\"medium\"> <span class=\"el-icon-tableware\"></span> 包装费</el-tag>\r\n                  </el-col>\r\n                  <el-col :span=\"22\">\r\n                    <span style=\"float:right\">￥{{getTotalPackageFee()}}</span>\r\n                    <span style=\"float:right;color:#666;margin-right:20px\">X 1</span>\r\n                  </el-col>\r\n                </el-row>\r\n              </li>\r\n              <li class=\"order-detail-item\">\r\n                <el-row>\r\n                  <el-col :span=\"2\">\r\n                    <el-tag size=\"medium\" type=\"danger\"> <span class=\"el-icon-s-goods\"></span> 红包折扣</el-tag>\r\n                  </el-col>\r\n                  <el-col :span=\"22\">\r\n                    <span class=\"el-icon\"></span>\r\n                    <span style=\"float:right\">-￥20</span>\r\n                  </el-col>\r\n                </el-row>\r\n              </li>\r\n              <li class=\"order-detail-item\">\r\n               <el-row>\r\n                  <el-col :span=\"2\">\r\n                    <el-tag size=\"medium\" type=\"warning\"> <span class=\"el-icon-money\"></span> 实付</el-tag>\r\n                  </el-col>\r\n                  <el-col :span=\"22\">\r\n                    <span style=\"float:right\">￥{{getTotalAmount()}}</span>\r\n                  </el-col>\r\n                </el-row>\r\n              </li>\r\n            </ul>\r\n          </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport productService from '../../service/ProductService'\r\nexport default {\r\n  props: ['shopInfo', 'productList'],\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {\r\n    getTotalPackageFee () {\r\n      return productService.calcTotalPackageFee(this.productList)\r\n    },\r\n    getTotalAmount () {\r\n      return productService.calcTotalAmount(this.productList)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .order-detail-item {\r\n    margin-bottom: 20px;\r\n    h4 {\r\n      margin: 0;\r\n      font-size: 14px;\r\n    }\r\n    .spec-name {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderProduct.vue?vue&type=template&id=15ce92b2&scoped=true&\"\nimport script from \"./OrderProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderProduct.vue?vue&type=style&index=0&id=15ce92b2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15ce92b2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEval.vue?vue&type=style&index=0&id=58f9c856&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('order-list',{attrs:{\"orderList\":_vm.orderList},on:{\"show-order-detail\":_vm.handleShowOrderDetail}}),_c('el-card',{staticStyle:{\"text-align\":\"center\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.page,\"page-sizes\":[5, 10, 20, 30],\"page-size\":_vm.size,\"layout\":\"prev, pager, next\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handlePageChange}})],1),_c('order-detail',{attrs:{\"show\":_vm.orderDetailShow,\"order\":_vm.orderDetail},on:{\"close\":_vm.handleDetailClose}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"订单列表\")])],1)],1),_c('ul',{staticClass:\"order-list\"},_vm._l((_vm.orderList),function(order){return _c('li',{key:order.orderId},[_c('order-item',{attrs:{\"order\":order},on:{\"show-order-detail\":function($event){return _vm.$emit('show-order-detail', order.orderId)}}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div style=\"margin-bottom:20px\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>订单列表</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <ul class=\"order-list\">\r\n      <li v-for=\"order in orderList\" :key=\"order.orderId\">\r\n        <order-item :order=\"order\" @show-order-detail=\"$emit('show-order-detail', order.orderId)\"/>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderItem from './OrderItem'\r\nexport default {\r\n  props: ['orderList'],\r\n  data () {\r\n    return {}\r\n  },\r\n  methods: {},\r\n  components: {\r\n    OrderItem\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderList.vue?vue&type=template&id=d274ae0e&scoped=true&\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d274ae0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"订单详情\",\"visible\":_vm.$store.state.orderDetailShow,\"width\":\"80%\"},on:{\"close\":function($event){return _vm.$store.commit('toggleOrderDetail')}}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":20}},[_c('order-product',{attrs:{\"productList\":_vm.order.productList,\"shopInfo\":{shopName: _vm.order.shopName, deliveryFee: _vm.order.deliveryFee}}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-card',{staticClass:\"order-detail-header\"},[_c('el-avatar',{attrs:{\"size\":80,\"src\":_vm.order.shopLogo}}),_c('h2',[_vm._v(_vm._s(_vm.getPayStatus(_vm.order.payStatus)))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.$router.push('shop')}}},[_vm._v(\"再来一单\")])],1)],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"配送信息\")]),_c('ul',{staticClass:\"delivery-info\"},[_c('li',[_vm._v(\"送达时间：尽快送达\")]),_c('li',[_vm._v(\"送货地址：\"+_vm._s(_vm.order.consumerAddress))]),_c('li',[_vm._v(\"收货人：\"+_vm._s(_vm.order.consumerName))]),_c('li',[_vm._v(\"手机：\"+_vm._s(_vm.order.consumerPhone))]),_c('li',[_vm._v(\"备注：\"+_vm._s(_vm.order.orderNote))])]),_c('el-divider'),_c('el-timeline',[_c('el-timeline-item',{key:1,attrs:{\"type\":\"success\",\"timestamp\":\"2020-04-03 20:46\"}},[_vm._v(\"顾客下单\")]),_c('el-timeline-item',{key:2,attrs:{\"type\":\"success\",\"timestamp\":\"2020-04-03 21:46\"}},[_vm._v(\"商家制作\")]),_c('el-timeline-item',{key:3,attrs:{\"type\":\"primary\",\"timestamp\":\"2020-04-03 22:46\"}},[_vm._v(\"骑手配送\")]),_c('el-timeline-item',{key:4,attrs:{\"type\":\"info\",\"timestamp\":\"2020-04-03 23:46\"}},[_vm._v(\"订单完结\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{staticClass:\"order-info\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"订单信息\")]),_c('ul',[_c('li',[_vm._v(\"订单号: \"+_vm._s(_vm.order.orderId))]),_c('li',[_vm._v(\"创建时间：\"+_vm._s(_vm.order.createTime))])])]),_c('el-card',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"地图\")]),_c('el-amap',{staticClass:\"amap-box\",attrs:{\"vid\":'amap-vue',\"zoom\":10,\"center\":[117.5,24]}},[_c('el-amap-marker',{attrs:{\"vid\":\"component-shop-marker\",\"position\":[117.5,24]}}),_c('el-amap-text',{attrs:{\"vid\":\"component-shop-text\",\"position\":[117.5,24],\"text\":'店铺位置'}}),_c('el-amap-marker',{attrs:{\"vid\":\"component-rider-marker\",\"position\":[117.5,24.1]}}),_c('el-amap-text',{attrs:{\"vid\":\"component-rider-text\",\"position\":[117.5,24.1],\"text\":'骑手位置'}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"订单详情\"\r\n    :visible=\"$store.state.orderDetailShow\"\r\n    @close=\"$store.commit('toggleOrderDetail')\"\r\n    width=\"80%\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"20\">\r\n          <order-product :productList=\"order.productList\" :shopInfo=\"{shopName: order.shopName, deliveryFee: order.deliveryFee}\"/>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-card class=\"order-detail-header\">\r\n            <el-avatar :size=\"80\" :src=\"order.shopLogo\"></el-avatar>\r\n            <h2>{{getPayStatus(order.payStatus)}}</h2>\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"$router.push('shop')\">再来一单</el-button>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"20\" style=\"margin-top:10px\">\r\n        <el-col :span=\"12\">\r\n          <el-card>\r\n            <div slot=\"header\">配送信息</div>\r\n            <ul class=\"delivery-info\">\r\n              <li>送达时间：尽快送达</li>\r\n              <li>送货地址：{{order.consumerAddress}}</li>\r\n              <li>收货人：{{order.consumerName}}</li>\r\n              <li>手机：{{order.consumerPhone}}</li>\r\n              <li>备注：{{order.orderNote}}</li>\r\n            </ul>\r\n            <el-divider></el-divider>\r\n            <el-timeline>\r\n              <el-timeline-item type=\"success\" timestamp='2020-04-03 20:46' :key=\"1\">顾客下单</el-timeline-item>\r\n              <el-timeline-item type=\"success\" timestamp='2020-04-03 21:46' :key=\"2\">商家制作</el-timeline-item>\r\n              <el-timeline-item type=\"primary\" timestamp='2020-04-03 22:46' :key=\"3\">骑手配送</el-timeline-item>\r\n              <el-timeline-item type=\"info\" timestamp='2020-04-03 23:46' :key=\"4\">订单完结</el-timeline-item>\r\n            </el-timeline>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-card class=\"order-info\">\r\n            <div slot=\"header\">订单信息</div>\r\n            <ul>\r\n              <li>订单号: {{order.orderId}}</li>\r\n              <li>创建时间：{{order.createTime}}</li>\r\n            </ul>\r\n          </el-card>\r\n          <el-card style=\"margin-top:10px\">\r\n            <div slot=\"header\">地图</div>\r\n            <el-amap class=\"amap-box\" :vid=\"'amap-vue'\" :zoom=\"10\" :center=\"[117.5,24]\">\r\n              <el-amap-marker vid=\"component-shop-marker\" :position=\"[117.5,24]\"></el-amap-marker>\r\n              <el-amap-text vid=\"component-shop-text\" :position=\"[117.5,24]\" :text=\"'店铺位置'\"></el-amap-text>\r\n              <el-amap-marker vid=\"component-rider-marker\" :position=\"[117.5,24.1]\"></el-amap-marker>\r\n              <el-amap-text vid=\"component-rider-text\" :position=\"[117.5,24.1]\" :text=\"'骑手位置'\"></el-amap-text>\r\n            </el-amap>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport OrderProduct from './OrderProduct'\r\nimport payService from '../../service/PayService'\r\nexport default {\r\n  props: ['show', 'order'],\r\n  data () {\r\n    return { }\r\n  },\r\n  components: {\r\n    OrderProduct\r\n  },\r\n  methods: {\r\n    getPayStatus (status) {\r\n      return payService.getPayStatusStr(status)\r\n    }\r\n  },\r\n  created () { }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .amap-box {\r\n    width: 100%;\r\n    height: 200px;\r\n  }\r\n  ul {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .order-detail-header {\r\n    text-align: center;\r\n  }\r\n  .delivery-info, .order-info {\r\n      font-size: 14px;\r\n      color: #666;\r\n      li {\r\n        margin-bottom: 10px;\r\n      }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderDetail.vue?vue&type=template&id=50750720&scoped=true&\"\nimport script from \"./OrderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderDetail.vue?vue&type=style&index=0&id=50750720&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50750720\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <order-list :orderList=\"orderList\" @show-order-detail=\"handleShowOrderDetail\"/>\r\n    <el-card style=\"text-align:center\">\r\n       <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      background\r\n      @current-change=\"handlePageChange\"\r\n      :current-page=\"page\"\r\n      :page-sizes=\"[5, 10, 20, 30]\"\r\n      :page-size=\"size\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n    </el-card>\r\n    <order-detail :show=\"orderDetailShow\" @close=\"handleDetailClose\" :order=\"orderDetail\"></order-detail>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderList from '../components/order/OrderList'\r\nimport OrderDetail from '../components/order/OrderDetail'\r\nimport orderService from '../service/OrderService'\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderDetailShow: true,\r\n      page: 1,\r\n      size: 10,\r\n      total: 0,\r\n      orderList: [],\r\n      orderDetail: {}\r\n    }\r\n  },\r\n  components: {\r\n    OrderList, OrderDetail\r\n  },\r\n  methods: {\r\n    handleDetailClose () {\r\n      this.orderDetailShow = false\r\n    },\r\n    async getOrderList () {\r\n      try {\r\n        const data = await orderService.getOrderList(this.page, this.size)\r\n        this.orderList = data.data\r\n        this.total = data.total\r\n      } catch (e) {\r\n        this.$message.error(e.message)\r\n      }\r\n    },\r\n    async handleSizeChange (val) {\r\n      this.size = val\r\n      await this.getOrderList()\r\n      this.scrollToTop()\r\n    },\r\n    scrollToTop () {\r\n      window.scrollTo({ top: 0 })\r\n    },\r\n    async handlePageChange (val) {\r\n      this.page = val\r\n      await this.getOrderList()\r\n      this.scrollToTop()\r\n    },\r\n    handleShowOrderDetail (orderId) {\r\n      this.getOrderDetail(orderId)\r\n      this.$store.commit('toggleOrderDetail')\r\n    },\r\n    async getOrderDetail (orderId) {\r\n      try {\r\n        this.orderDetail = await orderService.getOrderDetail(orderId)\r\n      } catch (e) {\r\n        this.$message.error(e.message)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrderList()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=3013736e&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3013736e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=style&index=0&id=29e9547f&lang=less&scoped=true&\"","class ProductService {\r\n  getProductPriceRange (product) {\r\n    let highPrice = product.productSpecList[0].price\r\n    let lowPrice = product.productSpecList[0].price\r\n    product.productSpecList.forEach(v => {\r\n      if (v.price < lowPrice) {\r\n        lowPrice = v.price\r\n      }\r\n      if (v.price > highPrice) {\r\n        highPrice = v.price\r\n      }\r\n    })\r\n    return { highPrice, lowPrice }\r\n  }\r\n\r\n  // 计算商品列表总包装费\r\n  calcTotalPackageFee (productList) {\r\n    if (!productList) {\r\n      return 0\r\n    }\r\n    let total = 0\r\n    productList.forEach(v => {\r\n      total += v.packageFee\r\n    })\r\n    return total\r\n  }\r\n\r\n  // 计算商品列表总付\r\n  calcTotalAmount (productList) {\r\n    if (!productList) {\r\n      return 0\r\n    }\r\n    let total = 0\r\n    productList.forEach(v => {\r\n      total += v.productPrice * v.productQuantity\r\n    })\r\n    total += this.calcTotalPackageFee(productList)\r\n    return total\r\n  }\r\n\r\n  // 计算商品总价（不含包装费）\r\n  calcProductTotalAmount (productList) {\r\n    return this.calcTotalAmount(productList) - this.calcTotalPackageFee(productList)\r\n  }\r\n}\r\nexport default new ProductService()\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderProduct.vue?vue&type=style&index=0&id=15ce92b2&lang=less&scoped=true&\""],"sourceRoot":""}