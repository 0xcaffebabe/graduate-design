(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7805"],{"76a1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 订单:"+e._s(e.shopName)+" - "+e._s(e.orderId)+" ")]),r("div",{staticStyle:{"text-align":"center"}},[r("el-image",{staticStyle:{width:"256px",height:"256px"},attrs:{src:e.qrcode}}),r("p",[e._v("支付状态:"+e._s(e.payStatus))]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push("order")}}},[e._v("已完成支付?")])],1)])],1)},n=[],s=(r("96cf"),r("1da1")),o=r("e72b"),c={data:function(){return{orderId:this.$route.params.orderId,payId:"",qrcode:"",shopName:"",timer:null,payStatus:"",shopInfo:this.$route.params.shopInfo}},methods:{getPayId:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].generatePay(e.orderId);case 3:if(e.payId=t.sent,!e.payId){t.next=12;break}return t.next=7,o["a"].getPayInfo(e.payId);case 7:r=t.sent,e.qrcode=r.url,e.shopName=r.shopName,e.orderId=r.orderId,e.qrcode&&(e.timer=setInterval(Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].getPayStatus(e.payId);case 2:r=t.sent,e.payStatus=r.msg,2===r.status&&(clearInterval(e.timer),e.$message.success(r.msg),e.$router.push("/order"));case 5:case"end":return t.stop()}}),t)}))),3e3));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.$message.error(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},created:function(){this.getPayId()},beforeRouteLeave:function(e,t,r){clearInterval(this.timer),r()}},u=c,i=r("2877"),d=Object(i["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d7805.4d001dce.js.map