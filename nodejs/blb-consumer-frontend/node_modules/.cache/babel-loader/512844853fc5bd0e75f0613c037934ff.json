{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\blb-consumer-frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\blb-consumer-frontend\\src\\repository\\index.js","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\repository\\index.js","mtime":1606571741841},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovcHJvamVjdC9ibGItY29uc3VtZXItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6L3Byb2plY3QvYmxiLWNvbnN1bWVyLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDovcHJvamVjdC9ibGItY29uc3VtZXItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gJy4vY29uZmlnJzsKCnZhciBSZXBvc2l0b3J5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBSZXBvc2l0b3J5KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlcG9zaXRvcnkpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFJlcG9zaXRvcnksIFt7CiAgICBrZXk6ICJnZXRTaG9wQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRTaG9wQ2F0ZWdvcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvY2F0ZWdvcnkvMScpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRTaG9wQ2F0ZWdvcnkoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRTaG9wQ2F0ZWdvcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFNob3BDYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldENvbnN1bWVySW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldENvbnN1bWVySW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9pbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRDb25zdW1lckluZm8oKSB7CiAgICAgICAgcmV0dXJuIF9nZXRDb25zdW1lckluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldENvbnN1bWVySW5mbzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHVzZXJuYW1lLCBwYXNzd29yZCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL2xvZ2luP3VzZXJuYW1lPSIuY29uY2F0KHVzZXJuYW1lLCAiJnBhc3N3b3JkPSIpLmNvbmNhdChwYXNzd29yZCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW4oX3gsIF94MikgewogICAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWdpc3RlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocGFyYW1zKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvcmVnaXN0ZXInLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIoX3gzKSB7CiAgICAgICAgcmV0dXJuIF9yZWdpc3Rlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVnaXN0ZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRTaG9wQnlDYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNob3BCeUNhdGVnb3J5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2NhdGVnb3J5LyIuY29uY2F0KHBhcmFtcy5jYXRlZ29yeUlkLCAiL3Nob3AiKSwgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRTaG9wQnlDYXRlZ29yeShfeDQpIHsKICAgICAgICByZXR1cm4gX2dldFNob3BCeUNhdGVnb3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRTaG9wQnlDYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFNob3BJbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0U2hvcEluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHNob3BJZCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvc2hvcC9pbmZvLycgKyBzaG9wSWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2hvcEluZm8oX3g1KSB7CiAgICAgICAgcmV0dXJuIF9nZXRTaG9wSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2hvcEluZm87CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRTaG9wUHJvZHVjdENhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0U2hvcFByb2R1Y3RDYXRlZ29yeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoc2hvcElkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9zaG9wLyIuY29uY2F0KHNob3BJZCwgIi9jYXRlZ29yeS8iKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRTaG9wUHJvZHVjdENhdGVnb3J5KF94NikgewogICAgICAgIHJldHVybiBfZ2V0U2hvcFByb2R1Y3RDYXRlZ29yeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2hvcFByb2R1Y3RDYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFByb2R1Y3RMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0UHJvZHVjdExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHNob3BJZCwgY2F0ZWdvcnlJZCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvc2hvcC8iLmNvbmNhdChzaG9wSWQsICIvIikuY29uY2F0KGNhdGVnb3J5SWQsICIvcHJvZHVjdC8iKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRQcm9kdWN0TGlzdChfeDcsIF94OCkgewogICAgICAgIHJldHVybiBfZ2V0UHJvZHVjdExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFByb2R1Y3RMaXN0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0U2hvcEV2YWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRTaG9wRXZhbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoc2hvcElkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9zaG9wLyIuY29uY2F0KHNob3BJZCwgIi9ldmFsdWF0aW9uIikpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2hvcEV2YWwoX3g5KSB7CiAgICAgICAgcmV0dXJuIF9nZXRTaG9wRXZhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2hvcEV2YWw7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRTaG9wRXZhbExpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRTaG9wRXZhbExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvc2hvcC8iLmNvbmNhdChwYXJhbXMuc2hvcElkLCAiL2V2YWx1YXRpb24vbGlzdD90YWdJZD0iKS5jb25jYXQocGFyYW1zLnRhZ0lkLCAiJnBhZ2U9IikuY29uY2F0KHBhcmFtcy5wYWdlLCAiJnNpemU9IikuY29uY2F0KHBhcmFtcy5zaXplKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2hvcEV2YWxMaXN0KF94MTApIHsKICAgICAgICByZXR1cm4gX2dldFNob3BFdmFsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2hvcEV2YWxMaXN0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiYWRkUHJvZHVjdEludG9DYXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWRkUHJvZHVjdEludG9DYXJ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEocGFyYW1zKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgiL3Nob3AvIi5jb25jYXQocGFyYW1zLnNob3BJZCwgIi9jYXJ0LyIpLmNvbmNhdChwYXJhbXMucHJvZHVjdElkLCAiLyIpLmNvbmNhdChwYXJhbXMuc3BlY0lkLCAiP3F1YW50aXR5PSIpLmNvbmNhdChwYXJhbXMucXVhbnRpdHkpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhZGRQcm9kdWN0SW50b0NhcnQoX3gxMSkgewogICAgICAgIHJldHVybiBfYWRkUHJvZHVjdEludG9DYXJ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZGRQcm9kdWN0SW50b0NhcnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRDYXJ0UHJvZHVjdExpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDYXJ0UHJvZHVjdExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMihzaG9wSWQpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvc2hvcC8nICsgc2hvcElkICsgJy9jYXJ0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0Q2FydFByb2R1Y3RMaXN0KF94MTIpIHsKICAgICAgICByZXR1cm4gX2dldENhcnRQcm9kdWN0TGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q2FydFByb2R1Y3RMaXN0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0Q29uc3VtZXJEZWZhdWx0RGVsaXZlcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDb25zdW1lckRlZmF1bHREZWxpdmVyeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9kZWxpdmVyeS9kZWZhdWx0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0Q29uc3VtZXJEZWZhdWx0RGVsaXZlcnkoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRDb25zdW1lckRlZmF1bHREZWxpdmVyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q29uc3VtZXJEZWZhdWx0RGVsaXZlcnk7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJtYWtlT3JkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9tYWtlT3JkZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNChwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL3Nob3Avb3JkZXInLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIG1ha2VPcmRlcihfeDEzKSB7CiAgICAgICAgcmV0dXJuIF9tYWtlT3JkZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG1ha2VPcmRlcjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlUGF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2VuZXJhdGVQYXkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNShvcmRlcklkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9wYXkvb3JkZXIvJyArIG9yZGVySWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlUGF5KF94MTQpIHsKICAgICAgICByZXR1cm4gX2dlbmVyYXRlUGF5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZW5lcmF0ZVBheTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFBheVVybCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFBheVVybCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KHBheUlkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL3BheS8nICsgcGF5SWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFBheVVybChfeDE1KSB7CiAgICAgICAgcmV0dXJuIF9nZXRQYXlVcmwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFBheVVybDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldFBheVN0YXR1cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFBheVN0YXR1cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KHBheUlkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL3BheS9zdGF0dXMvJyArIHBheUlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MTcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRQYXlTdGF0dXMoX3gxNikgewogICAgICAgIHJldHVybiBfZ2V0UGF5U3RhdHVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRQYXlTdGF0dXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjbGVhckNhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jbGVhckNhcnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOChzaG9wSWQpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZGVsZXRlKCcvc2hvcC8nICsgc2hvcElkICsgJy9jYXJ0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY2xlYXJDYXJ0KF94MTcpIHsKICAgICAgICByZXR1cm4gX2NsZWFyQ2FydC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY2xlYXJDYXJ0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0T3JkZXJMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0T3JkZXJMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkocGFnZSwgc2l6ZSkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9zaG9wL29yZGVyJywgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgICAgICAgICAgICAgIHNpemU6IHNpemUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDE5LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0T3JkZXJMaXN0KF94MTgsIF94MTkpIHsKICAgICAgICByZXR1cm4gX2dldE9yZGVyTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0T3JkZXJMaXN0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0T3JkZXJEZXRhaWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRPcmRlckRldGFpbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKG9yZGVySWQpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvc2hvcC9vcmRlci8nICsgb3JkZXJJZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0T3JkZXJEZXRhaWwoX3gyMCkgewogICAgICAgIHJldHVybiBfZ2V0T3JkZXJEZXRhaWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldE9yZGVyRGV0YWlsOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0TmVhckJ5U2hvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldE5lYXJCeVNob3AgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShsb2NhdGlvbikgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9zaG9wL3ZpY2luaXR5JywgewogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIxLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0TmVhckJ5U2hvcChfeDIxKSB7CiAgICAgICAgcmV0dXJuIF9nZXROZWFyQnlTaG9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXROZWFyQnlTaG9wOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic2VhcmNoU2hvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlYXJjaFNob3AgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMihwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvc2hvcC9zZWFyY2gnLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MjIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzZWFyY2hTaG9wKF94MjIpIHsKICAgICAgICByZXR1cm4gX3NlYXJjaFNob3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlYXJjaFNob3A7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXREZWxpdmVyeUxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXREZWxpdmVyeUxpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvZGVsaXZlcnknKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MjMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXREZWxpdmVyeUxpc3QoKSB7CiAgICAgICAgcmV0dXJuIF9nZXREZWxpdmVyeUxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERlbGl2ZXJ5TGlzdDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImFkZERlbGl2ZXJ5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWRkRGVsaXZlcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNChwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2RlbGl2ZXJ5JywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MjQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjQpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhZGREZWxpdmVyeShfeDIzKSB7CiAgICAgICAgcmV0dXJuIF9hZGREZWxpdmVyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWRkRGVsaXZlcnk7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVEZWxpdmVyeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZURlbGl2ZXJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUocGFyYW1zKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2RlbGl2ZXJ5LycgKyBwYXJhbXMuZGVsaXZlcnlJZCwgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0MjUuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVEZWxpdmVyeShfeDI0KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVEZWxpdmVyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlRGVsaXZlcnk7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkZWxldGVEZWxpdmVyeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZURlbGl2ZXJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoZGVsaXZlcnlJZCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoJy9kZWxpdmVyeS8nICsgZGVsaXZlcnlJZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDI2LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI2KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZGVsZXRlRGVsaXZlcnkoX3gyNSkgewogICAgICAgIHJldHVybiBfZGVsZXRlRGVsaXZlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlbGV0ZURlbGl2ZXJ5OwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBsb2FkQXZhdGFyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBsb2FkQXZhdGFyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoZnJvbURhdGEpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgICAgdXJsOiAnL2F2YXRhcicsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGRhdGE6IGZyb21EYXRhCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mjcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjcpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGxvYWRBdmF0YXIoX3gyNikgewogICAgICAgIHJldHVybiBfdXBsb2FkQXZhdGFyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGxvYWRBdmF0YXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVVc2VySW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZVVzZXJJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgodXNlckluZm8pIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI4JChfY29udGV4dDI4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2luZm8nLCB1c2VySW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDI4LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI4KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlVXNlckluZm8oX3gyNykgewogICAgICAgIHJldHVybiBfdXBkYXRlVXNlckluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZVVzZXJJbmZvOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlUGFzc3dvcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVQYXNzd29yZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KG9sZFBhc3N3b3JkLCBuZXdQYXNzd29yZCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOS5wcmV2ID0gX2NvbnRleHQyOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvaW5mby9wYXNzd29yZD9vbGRQYXNzd29yZD0iLmNvbmNhdChvbGRQYXNzd29yZCwgIiZuZXdQYXNzd29yZD0iKS5jb25jYXQobmV3UGFzc3dvcmQpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mjkuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjkpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVQYXNzd29yZChfeDI4LCBfeDI5KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVQYXNzd29yZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBkYXRlUGFzc3dvcmQ7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBSZXBvc2l0b3J5Owp9KCk7CgpleHBvcnQgZGVmYXVsdCBuZXcgUmVwb3NpdG9yeSgpOw=="},{"version":3,"sources":["D:/project/blb-consumer-frontend/src/repository/index.js"],"names":["axios","Repository","get","data","username","password","post","params","categoryId","shopId","tagId","page","size","put","productId","specId","quantity","orderId","payId","delete","location","deliveryId","fromData","method","url","headers","userInfo","oldPassword","newPassword"],"mappings":"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","sourcesContent":["import axios from './config'\r\n\r\nclass Repository {\r\n  async getShopCategory () {\r\n    const data = await axios.get('/category/1')\r\n    return data.data\r\n  }\r\n\r\n  async getConsumerInfo () {\r\n    const data = await axios.get('/info')\r\n    return data.data\r\n  }\r\n\r\n  async login (username, password) {\r\n    const data = await axios.post(`/login?username=${username}&password=${password}`)\r\n    return data.data\r\n  }\r\n\r\n  async register (params) {\r\n    const data = await axios.post('/register', params)\r\n    return data.data\r\n  }\r\n\r\n  async getShopByCategory (params) {\r\n    const data = await axios.get(`/category/${params.categoryId}/shop`, {\r\n      params\r\n    })\r\n    return data.data\r\n  }\r\n\r\n  async getShopInfo (shopId) {\r\n    const data = await axios.get('/shop/info/' + shopId)\r\n    return data.data\r\n  }\r\n\r\n  async getShopProductCategory (shopId) {\r\n    const data = await axios.get(`/shop/${shopId}/category/`)\r\n    return data.data\r\n  }\r\n\r\n  async getProductList (shopId, categoryId) {\r\n    const data = await axios.get(`/shop/${shopId}/${categoryId}/product/`)\r\n    return data.data\r\n  }\r\n\r\n  async getShopEval (shopId) {\r\n    const data = await axios.get(`/shop/${shopId}/evaluation`)\r\n    return data.data\r\n  }\r\n\r\n  async getShopEvalList (params) {\r\n    const data = await axios.get(`/shop/${params.shopId}/evaluation/list?tagId=${params.tagId}&page=${params.page}&size=${params.size}`)\r\n    return data.data\r\n  }\r\n\r\n  async addProductIntoCart (params) {\r\n    const data = await axios.put(`/shop/${params.shopId}/cart/${params.productId}/${params.specId}?quantity=${params.quantity}`)\r\n    return data.data\r\n  }\r\n\r\n  async getCartProductList (shopId) {\r\n    const data = await axios.get('/shop/' + shopId + '/cart')\r\n    return data.data\r\n  }\r\n\r\n  async getConsumerDefaultDelivery () {\r\n    const data = await axios.get('/delivery/default')\r\n    return data.data\r\n  }\r\n\r\n  async makeOrder (params) {\r\n    const data = await axios.post('/shop/order', params)\r\n    return data.data\r\n  }\r\n\r\n  async generatePay (orderId) {\r\n    const data = await axios.post('/pay/order/' + orderId)\r\n    return data.data\r\n  }\r\n\r\n  async getPayUrl (payId) {\r\n    const data = await axios.get('/pay/' + payId)\r\n    return data.data\r\n  }\r\n\r\n  async getPayStatus (payId) {\r\n    const data = await axios.get('/pay/status/' + payId)\r\n    return data.data\r\n  }\r\n\r\n  async clearCart (shopId) {\r\n    const data = await axios.delete('/shop/' + shopId + '/cart')\r\n    return data.data\r\n  }\r\n\r\n  async getOrderList (page, size) {\r\n    const data = await axios.get('/shop/order', {\r\n      params: {\r\n        page, size\r\n      }\r\n    })\r\n    return data.data\r\n  }\r\n\r\n  async getOrderDetail (orderId) {\r\n    const data = await axios.get('/shop/order/' + orderId)\r\n    return data.data\r\n  }\r\n\r\n  async getNearByShop (location) {\r\n    const data = await axios.get('/shop/vicinity', {\r\n      params: { location }\r\n    })\r\n    return data.data\r\n  }\r\n\r\n  async searchShop (params) {\r\n    const data = await axios.get('/shop/search', {\r\n      params\r\n    })\r\n    return data.data\r\n  }\r\n\r\n  async getDeliveryList () {\r\n    const data = await axios.get('/delivery')\r\n    return data.data\r\n  }\r\n\r\n  async addDelivery (params) {\r\n    const data = await axios.post('/delivery', params)\r\n    return data.data\r\n  }\r\n\r\n  async updateDelivery (params) {\r\n    const data = await axios.put('/delivery/' + params.deliveryId, params)\r\n    return data.data\r\n  }\r\n\r\n  async deleteDelivery (deliveryId) {\r\n    const data = await axios.delete('/delivery/' + deliveryId)\r\n    return data.data\r\n  }\r\n\r\n  async uploadAvatar (fromData) {\r\n    const data = await axios({\r\n      method: 'post',\r\n      url: '/avatar',\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n      data: fromData\r\n    })\r\n    return data.data\r\n  }\r\n\r\n  async updateUserInfo (userInfo) {\r\n    const data = await axios.post('/info', userInfo)\r\n    return data.data\r\n  }\r\n\r\n  async updatePassword (oldPassword, newPassword) {\r\n    const data = await axios.post(`/info/password?oldPassword=${oldPassword}&newPassword=${newPassword}`)\r\n    return data.data\r\n  }\r\n}\r\n\r\nexport default new Repository()\r\n"]}]}