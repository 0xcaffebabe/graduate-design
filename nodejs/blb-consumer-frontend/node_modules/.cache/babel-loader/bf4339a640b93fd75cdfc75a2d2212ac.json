{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\blb-consumer-frontend\\src\\views\\Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\views\\Search.vue","mtime":1606571741851},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovcHJvamVjdC9ibGItY29uc3VtZXItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2hvcExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy90YWtlYXdheS9TaG9wTGlzdCc7CmltcG9ydCBzaG9wU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlL1Nob3BTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnB1dDogJycsCiAgICAgIHNob3BMaXN0OiBbXSwKICAgICAgcGFnZTogMSwKICAgICAgc2l6ZTogMTIsCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU2hvcExpc3Q6IFNob3BMaXN0CiAgfSwKICBtZXRob2RzOiB7CiAgICBxdWVyeVNlYXJjaDogZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIGNiKHRoaXMubG9hZEFsbCgpKTsKICAgIH0sCiAgICBsb2FkQWxsOiBmdW5jdGlvbiBsb2FkQWxsKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICB2YWx1ZTogJ+m7hOeElum4oeexs+mlrScsCiAgICAgICAgYWRkcmVzczogJ+mypOWfjuWMuuWqkuS6uuahpei3rzLlj7flupcnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ+aymeWOv+Wwj+WQgycsCiAgICAgICAgYWRkcmVzczogJ+S4sOazveWMuuazsOemvuW5v+WcujPlj7flupcnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ+mlv+eCueWkluWNlicsCiAgICAgICAgYWRkcmVzczogJ+Wuoui/kOS4reW/g+ermTTlj7flupcnCiAgICAgIH1dOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGl0ZW0pIHsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBzaG9wU2VydmljZS5zZWFyY2hTaG9wKHsKICAgICAgICAgICAgICAgICAga3c6IF90aGlzLmlucHV0LAogICAgICAgICAgICAgICAgICBwYWdlOiBfdGhpcy5wYWdlLAogICAgICAgICAgICAgICAgICBzaXplOiBfdGhpcy5zaXplCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG9wTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gZGF0YS50b3RhbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoX2NvbnRleHQudDAubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5zaXplID0gdmFsOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZWFyY2goKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMyLnNjcm9sbFRvVG9wKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5wYWdlID0gdmFsOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zZWFyY2goKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMzLnNjcm9sbFRvVG9wKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNjcm9sbFRvVG9wOiBmdW5jdGlvbiBzY3JvbGxUb1RvcCgpIHsKICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICB0b3A6IDAKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,QAAA,MAAA,iCAAA;AACA,OAAA,WAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,CAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAVA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,WADA,EACA,EADA,EACA;AACA,MAAA,EAAA,CAAA,KAAA,OAAA,EAAA,CAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,aAAA,CACA;AACA,QAAA,KAAA,EAAA,OADA;AAEA,QAAA,OAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AAFA,OATA,CAAA;AAcA,KAnBA;AAoBA,IAAA,YApBA,wBAoBA,IApBA,EAoBA;AACA,WAAA,MAAA;AACA,KAtBA;AAuBA,IAAA,MAvBA,oBAuBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,WAAA,CAAA,UAAA,CAAA;AACA,kBAAA,EAAA,EAAA,KAAA,CAAA,KADA;AAEA,kBAAA,IAAA,EAAA,KAAA,CAAA,IAFA;AAGA,kBAAA,IAAA,EAAA,KAAA,CAAA;AAHA,iBAAA,CAFA;;AAAA;AAEA,gBAAA,IAFA;AAOA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AARA;AAAA;;AAAA;AAAA;AAAA;;AAUA,gBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,OAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAnCA;AAoCA,IAAA,gBApCA,4BAoCA,GApCA,EAoCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AADA;AAAA,uBAEA,MAAA,CAAA,MAAA,EAFA;;AAAA;AAGA,gBAAA,MAAA,CAAA,WAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAxCA;AAyCA,IAAA,gBAzCA,4BAyCA,GAzCA,EAyCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AADA;AAAA,uBAEA,MAAA,CAAA,MAAA,EAFA;;AAAA;AAGA,gBAAA,MAAA,CAAA,WAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KA7CA;AA8CA,IAAA,WA9CA,yBA8CA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA;AACA;AAhDA;AAbA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator=\"/\" style=\"margin-bottom:20px\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>搜索</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <div style=\"text-align:center\" class=\"search-box-container\">\r\n      <el-autocomplete\r\n        style=\"width:600px\"\r\n        class='search-input'\r\n        v-model='input'\r\n        :fetch-suggestions='querySearch'\r\n        placeholder='请输入内容'\r\n        suffix-icon=\"el-icon-search\"\r\n        @select='handleSelect'\r\n        @keyup.enter=\"search\"\r\n      >\r\n        <template v-slot=\"{ item }\">\r\n          <div class=\"shop-name\">{{ item.value }}</div>\r\n          <div class=\"shop-addr\"> <span class=\"el-icon-location\"></span> {{ item.address }}</div>\r\n        </template>\r\n      </el-autocomplete>\r\n      <!-- <el-button type=\"primary\" style=\"margin-left:20px\" @click=\"search\">搜索</el-button> -->\r\n    </div>\r\n    <shop-list v-if=\"shopList.length != 0\" style=\"margin-top:10px\" :title=\"'搜索结果'\" :shopList=\"shopList\"></shop-list>\r\n    <el-card v-if=\"shopList.length != 0\" style=\"margin-top:10px;text-align:center\">\r\n      <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      background\r\n      @current-change=\"handlePageChange\"\r\n      :current-page=\"page\"\r\n      :page-sizes=\"[5, 12, 20, 30]\"\r\n      :page-size=\"size\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ShopList from '../components/takeaway/ShopList'\r\nimport shopService from '../service/ShopService'\r\nexport default {\r\n  data () {\r\n    return {\r\n      input: '',\r\n      shopList: [],\r\n      page: 1,\r\n      size: 12,\r\n      total: 0\r\n    }\r\n  },\r\n  components: {\r\n    ShopList\r\n  },\r\n  methods: {\r\n    querySearch (queryString, cb) {\r\n      cb(this.loadAll())\r\n    },\r\n    loadAll () {\r\n      return [\r\n        {\r\n          value: '黄焖鸡米饭',\r\n          address: '鲤城区媒人桥路2号店'\r\n        },\r\n        {\r\n          value: '沙县小吃',\r\n          address: '丰泽区泰禾广场3号店'\r\n        },\r\n        {\r\n          value: '饿点外卖',\r\n          address: '客运中心站4号店'\r\n        }\r\n      ]\r\n    },\r\n    handleSelect (item) {\r\n      this.search()\r\n    },\r\n    async search () {\r\n      try {\r\n        const data = await shopService.searchShop({\r\n          kw: this.input,\r\n          page: this.page,\r\n          size: this.size\r\n        })\r\n        this.shopList = data.data\r\n        this.total = data.total\r\n      } catch (e) {\r\n        this.$message.error(e.message)\r\n      }\r\n    },\r\n    async handleSizeChange (val) {\r\n      this.size = val\r\n      await this.search()\r\n      this.scrollToTop()\r\n    },\r\n    async handlePageChange (val) {\r\n      this.page = val\r\n      await this.search()\r\n      this.scrollToTop()\r\n    },\r\n    scrollToTop () {\r\n      window.scrollTo({ top: 0 })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .el-autocomplete /deep/ .el-input__inner {\r\n    padding: 15px;\r\n    font-size: 16px;\r\n    height: 60px;\r\n  }\r\n  .el-autocomplete /deep/ .el-icon-search {\r\n    font-size: 16px;\r\n    color: #333;\r\n    margin-right: 10px;\r\n  }\r\n  .shop-name {\r\n    font-size: 16px;\r\n  }\r\n  .shop-addr {\r\n    color: #999;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views"}]}