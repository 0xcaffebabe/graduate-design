{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\blb-consumer-frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\blb-consumer-frontend\\src\\service\\ProductService.js","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\service\\ProductService.js","mtime":1606571741845},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9wcm9qZWN0L2JsYi1jb25zdW1lci1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkQ6L3Byb2plY3QvYmxiLWNvbnN1bWVyLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7Cgp2YXIgUHJvZHVjdFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFByb2R1Y3RTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2R1Y3RTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhQcm9kdWN0U2VydmljZSwgW3sKICAgIGtleTogImdldFByb2R1Y3RQcmljZVJhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQcm9kdWN0UHJpY2VSYW5nZShwcm9kdWN0KSB7CiAgICAgIHZhciBoaWdoUHJpY2UgPSBwcm9kdWN0LnByb2R1Y3RTcGVjTGlzdFswXS5wcmljZTsKICAgICAgdmFyIGxvd1ByaWNlID0gcHJvZHVjdC5wcm9kdWN0U3BlY0xpc3RbMF0ucHJpY2U7CiAgICAgIHByb2R1Y3QucHJvZHVjdFNwZWNMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICBpZiAodi5wcmljZSA8IGxvd1ByaWNlKSB7CiAgICAgICAgICBsb3dQcmljZSA9IHYucHJpY2U7CiAgICAgICAgfQoKICAgICAgICBpZiAodi5wcmljZSA+IGhpZ2hQcmljZSkgewogICAgICAgICAgaGlnaFByaWNlID0gdi5wcmljZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gewogICAgICAgIGhpZ2hQcmljZTogaGlnaFByaWNlLAogICAgICAgIGxvd1ByaWNlOiBsb3dQcmljZQogICAgICB9OwogICAgfSAvLyDorqHnrpfllYblk4HliJfooajmgLvljIXoo4XotLkKCiAgfSwgewogICAga2V5OiAiY2FsY1RvdGFsUGFja2FnZUZlZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY1RvdGFsUGFja2FnZUZlZShwcm9kdWN0TGlzdCkgewogICAgICBpZiAoIXByb2R1Y3RMaXN0KSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KCiAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgIHByb2R1Y3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICB0b3RhbCArPSB2LnBhY2thZ2VGZWU7CiAgICAgIH0pOwogICAgICByZXR1cm4gdG90YWw7CiAgICB9IC8vIOiuoeeul+WVhuWTgeWIl+ihqOaAu+S7mAoKICB9LCB7CiAgICBrZXk6ICJjYWxjVG90YWxBbW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGNUb3RhbEFtb3VudChwcm9kdWN0TGlzdCkgewogICAgICBpZiAoIXByb2R1Y3RMaXN0KSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KCiAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgIHByb2R1Y3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICB0b3RhbCArPSB2LnByb2R1Y3RQcmljZSAqIHYucHJvZHVjdFF1YW50aXR5OwogICAgICB9KTsKICAgICAgdG90YWwgKz0gdGhpcy5jYWxjVG90YWxQYWNrYWdlRmVlKHByb2R1Y3RMaXN0KTsKICAgICAgcmV0dXJuIHRvdGFsOwogICAgfSAvLyDorqHnrpfllYblk4HmgLvku7fvvIjkuI3lkKvljIXoo4XotLnvvIkKCiAgfSwgewogICAga2V5OiAiY2FsY1Byb2R1Y3RUb3RhbEFtb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY1Byb2R1Y3RUb3RhbEFtb3VudChwcm9kdWN0TGlzdCkgewogICAgICByZXR1cm4gdGhpcy5jYWxjVG90YWxBbW91bnQocHJvZHVjdExpc3QpIC0gdGhpcy5jYWxjVG90YWxQYWNrYWdlRmVlKHByb2R1Y3RMaXN0KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQcm9kdWN0U2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IFByb2R1Y3RTZXJ2aWNlKCk7"},{"version":3,"sources":["D:/project/blb-consumer-frontend/src/service/ProductService.js"],"names":["ProductService","product","highPrice","productSpecList","price","lowPrice","forEach","v","productList","total","packageFee","productPrice","productQuantity","calcTotalPackageFee","calcTotalAmount"],"mappings":";;;;;IAAMA,c;;;;;;;yCACkBC,O,EAAS;AAC7B,UAAIC,SAAS,GAAGD,OAAO,CAACE,eAAR,CAAwB,CAAxB,EAA2BC,KAA3C;AACA,UAAIC,QAAQ,GAAGJ,OAAO,CAACE,eAAR,CAAwB,CAAxB,EAA2BC,KAA1C;AACAH,MAAAA,OAAO,CAACE,eAAR,CAAwBG,OAAxB,CAAgC,UAAAC,CAAC,EAAI;AACnC,YAAIA,CAAC,CAACH,KAAF,GAAUC,QAAd,EAAwB;AACtBA,UAAAA,QAAQ,GAAGE,CAAC,CAACH,KAAb;AACD;;AACD,YAAIG,CAAC,CAACH,KAAF,GAAUF,SAAd,EAAyB;AACvBA,UAAAA,SAAS,GAAGK,CAAC,CAACH,KAAd;AACD;AACF,OAPD;AAQA,aAAO;AAAEF,QAAAA,SAAS,EAATA,SAAF;AAAaG,QAAAA,QAAQ,EAARA;AAAb,OAAP;AACD,K,CAED;;;;wCACqBG,W,EAAa;AAChC,UAAI,CAACA,WAAL,EAAkB;AAChB,eAAO,CAAP;AACD;;AACD,UAAIC,KAAK,GAAG,CAAZ;AACAD,MAAAA,WAAW,CAACF,OAAZ,CAAoB,UAAAC,CAAC,EAAI;AACvBE,QAAAA,KAAK,IAAIF,CAAC,CAACG,UAAX;AACD,OAFD;AAGA,aAAOD,KAAP;AACD,K,CAED;;;;oCACiBD,W,EAAa;AAC5B,UAAI,CAACA,WAAL,EAAkB;AAChB,eAAO,CAAP;AACD;;AACD,UAAIC,KAAK,GAAG,CAAZ;AACAD,MAAAA,WAAW,CAACF,OAAZ,CAAoB,UAAAC,CAAC,EAAI;AACvBE,QAAAA,KAAK,IAAIF,CAAC,CAACI,YAAF,GAAiBJ,CAAC,CAACK,eAA5B;AACD,OAFD;AAGAH,MAAAA,KAAK,IAAI,KAAKI,mBAAL,CAAyBL,WAAzB,CAAT;AACA,aAAOC,KAAP;AACD,K,CAED;;;;2CACwBD,W,EAAa;AACnC,aAAO,KAAKM,eAAL,CAAqBN,WAArB,IAAoC,KAAKK,mBAAL,CAAyBL,WAAzB,CAA3C;AACD;;;;;;AAEH,eAAe,IAAIR,cAAJ,EAAf","sourcesContent":["class ProductService {\r\n  getProductPriceRange (product) {\r\n    let highPrice = product.productSpecList[0].price\r\n    let lowPrice = product.productSpecList[0].price\r\n    product.productSpecList.forEach(v => {\r\n      if (v.price < lowPrice) {\r\n        lowPrice = v.price\r\n      }\r\n      if (v.price > highPrice) {\r\n        highPrice = v.price\r\n      }\r\n    })\r\n    return { highPrice, lowPrice }\r\n  }\r\n\r\n  // 计算商品列表总包装费\r\n  calcTotalPackageFee (productList) {\r\n    if (!productList) {\r\n      return 0\r\n    }\r\n    let total = 0\r\n    productList.forEach(v => {\r\n      total += v.packageFee\r\n    })\r\n    return total\r\n  }\r\n\r\n  // 计算商品列表总付\r\n  calcTotalAmount (productList) {\r\n    if (!productList) {\r\n      return 0\r\n    }\r\n    let total = 0\r\n    productList.forEach(v => {\r\n      total += v.productPrice * v.productQuantity\r\n    })\r\n    total += this.calcTotalPackageFee(productList)\r\n    return total\r\n  }\r\n\r\n  // 计算商品总价（不含包装费）\r\n  calcProductTotalAmount (productList) {\r\n    return this.calcTotalAmount(productList) - this.calcTotalPackageFee(productList)\r\n  }\r\n}\r\nexport default new ProductService()\r\n"]}]}