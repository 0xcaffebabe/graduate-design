{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\thread-loader\\dist\\cjs.js!D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\blb-consumer-frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\blb-consumer-frontend\\src\\service\\ShopService.js","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\service\\ShopService.js","mtime":1606571741845},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcHJvamVjdC9ibGItY29uc3VtZXItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9wcm9qZWN0L2JsYi1jb25zdW1lci1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRDovcHJvamVjdC9ibGItY29uc3VtZXItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9wcm9qZWN0L2JsYi1jb25zdW1lci1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgcmVwb3NpdG9yeSBmcm9tICcuLi9yZXBvc2l0b3J5JzsKaW1wb3J0IGxvY2F0aW9uU2VydmljZSBmcm9tICcuL0xvY2F0aW9uU2VydmljZSc7Cgp2YXIgU2hvcFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNob3BTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNob3BTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhTaG9wU2VydmljZSwgW3sKICAgIGtleTogImdldFNob3BMaXN0QnlDYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNob3BMaXN0QnlDYXRlZ29yeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5LmdldFNob3BCeUNhdGVnb3J5KF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uKCkubG9jYXRpb24KICAgICAgICAgICAgICAgIH0sIHBhcmFtcykpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlx1ODNCN1x1NTNENlx1NTIwNlx1N0M3QiIuY29uY2F0KHBhcmFtcy5jYXRlZ29yeUlkLCAiXHU0RTBCXHU3Njg0XHU1RTk3XHU5NEZBXHU1OTMxXHU4RDI1OiIpLmNvbmNhdChkYXRhLm1zZykpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2hvcExpc3RCeUNhdGVnb3J5KF94KSB7CiAgICAgICAgcmV0dXJuIF9nZXRTaG9wTGlzdEJ5Q2F0ZWdvcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFNob3BMaXN0QnlDYXRlZ29yeTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldE5lYXJ5QnlTaG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TmVhcnlCeVNob3AgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3NpdG9yeS5nZXROZWFyQnlTaG9wKGxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbigpLmxvY2F0aW9uKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+iOt+WPlumZhOi/keW6l+mTuuWksei0pTonICsgZGF0YS5tc2cpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0TmVhcnlCeVNob3AoKSB7CiAgICAgICAgcmV0dXJuIF9nZXROZWFyeUJ5U2hvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0TmVhcnlCeVNob3A7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzZWFyY2hTaG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2VhcmNoU2hvcCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFyYW1zKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5LnNlYXJjaFNob3AocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+aQnOe0ouW6l+mTuuWksei0pTonICsgZGF0YS5tc2cpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VhcmNoU2hvcChfeDIpIHsKICAgICAgICByZXR1cm4gX3NlYXJjaFNob3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlYXJjaFNob3A7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRTaG9wSW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNob3BJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChzaG9wSWQpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9zaXRvcnkuZ2V0U2hvcEluZm8oc2hvcElkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+iOt+WPluW6l+mTuuS/oeaBr+Wksei0pTonICsgZGF0YS5tc2cpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2hvcEluZm8oX3gzKSB7CiAgICAgICAgcmV0dXJuIF9nZXRTaG9wSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2hvcEluZm87CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRTaG9wUHJvZHVjdENhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0U2hvcFByb2R1Y3RDYXRlZ29yeSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoc2hvcElkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5LmdldFNob3BQcm9kdWN0Q2F0ZWdvcnkoc2hvcElkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+iOt+WPluW6l+mTuuWVhuWTgeWIhuexu+Wksei0pTonICsgZGF0YS5tc2cpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2hvcFByb2R1Y3RDYXRlZ29yeShfeDQpIHsKICAgICAgICByZXR1cm4gX2dldFNob3BQcm9kdWN0Q2F0ZWdvcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFNob3BQcm9kdWN0Q2F0ZWdvcnk7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRQcm9kdWN0TGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFByb2R1Y3RMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihzaG9wSWQsIGNhdGVnb3J5SWQpIHsKICAgICAgICB2YXIgZGF0YSwgcHJvZHVjdExpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5LmdldFByb2R1Y3RMaXN0KHNob3BJZCwgY2F0ZWdvcnlJZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfojrflj5bllYblk4HliJfooajlpLHotKU6JyArIGRhdGEubXNnKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcHJvZHVjdExpc3QgPSBkYXRhLmRhdGE7IC8vIOiuvue9rum7mOiupOmAieS4reinhOagvAoKICAgICAgICAgICAgICAgIHByb2R1Y3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgdi5kZWZhdWx0U3BlYyA9IHYucHJvZHVjdFNwZWNMaXN0WzBdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcHJvZHVjdExpc3QpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRQcm9kdWN0TGlzdChfeDUsIF94NikgewogICAgICAgIHJldHVybiBfZ2V0UHJvZHVjdExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFByb2R1Y3RMaXN0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0U2hvcEV2YWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRTaG9wRXZhbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoc2hvcElkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5LmdldFNob3BFdmFsKHNob3BJZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDcuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfojrflj5blupfpk7ror4Tku7flpLHotKU6JyArIGRhdGEubXNnKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFNob3BFdmFsKF94NykgewogICAgICAgIHJldHVybiBfZ2V0U2hvcEV2YWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFNob3BFdmFsOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0U2hvcEV2YWxMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0U2hvcEV2YWxMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChwYXJhbXMpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9zaXRvcnkuZ2V0U2hvcEV2YWxMaXN0KHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfojrflj5blupfpk7ror4Tku7fliJfooajlpLHotKU6JyArIGRhdGEubXNnKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFNob3BFdmFsTGlzdChfeDgpIHsKICAgICAgICByZXR1cm4gX2dldFNob3BFdmFsTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2hvcEV2YWxMaXN0OwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gU2hvcFNlcnZpY2U7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBTaG9wU2VydmljZSgpOw=="},{"version":3,"sources":["D:/project/blb-consumer-frontend/src/service/ShopService.js"],"names":["repository","locationService","ShopService","params","getShopByCategory","location","getLocation","data","success","Error","categoryId","msg","getNearByShop","searchShop","shopId","getShopInfo","getShopProductCategory","getProductList","productList","forEach","v","defaultSpec","productSpecList","getShopEval","getShopEvalList"],"mappings":";;;;;;;;AAAA,OAAOA,UAAP,MAAuB,eAAvB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;IACMC,W;;;;;;;;4GACyBC,M;;;;;;;uBACRH,UAAU,CAACI,iBAAX;AACjBC,kBAAAA,QAAQ,EAAEJ,eAAe,CAACK,WAAhB,GAA8BD;AADvB,mBAEdF,MAFc,E;;;AAAbI,gBAAAA,I;;oBAIDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,mCAAiBN,MAAM,CAACO,UAAxB,kDAA4CH,IAAI,CAACI,GAAjD,E;;;iDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;;;;;;;;uBAIOP,UAAU,CAACY,aAAX,CAAyBX,eAAe,CAACK,WAAhB,GAA8BD,QAAvD,C;;;AAAbE,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,cAAcF,IAAI,CAACI,GAA7B,C;;;kDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;kGAGIJ,M;;;;;;;uBACGH,UAAU,CAACa,UAAX,CAAsBV,MAAtB,C;;;AAAbI,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,YAAYF,IAAI,CAACI,GAA3B,C;;;kDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;mGAGKO,M;;;;;;;uBACEd,UAAU,CAACe,WAAX,CAAuBD,MAAvB,C;;;AAAbP,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,cAAcF,IAAI,CAACI,GAA7B,C;;;kDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;8GAGgBO,M;;;;;;;uBACTd,UAAU,CAACgB,sBAAX,CAAkCF,MAAlC,C;;;AAAbP,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,gBAAgBF,IAAI,CAACI,GAA/B,C;;;kDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;sGAGQO,M,EAAQJ,U;;;;;;;uBACTV,UAAU,CAACiB,cAAX,CAA0BH,MAA1B,EAAkCJ,UAAlC,C;;;AAAbH,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,cAAcF,IAAI,CAACI,GAA7B,C;;;AAEFO,gBAAAA,W,GAAcX,IAAI,CAACA,I,EACzB;;AACAW,gBAAAA,WAAW,CAACC,OAAZ,CAAoB,UAAAC,CAAC,EAAI;AACvBA,kBAAAA,CAAC,CAACC,WAAF,GAAgBD,CAAC,CAACE,eAAF,CAAkB,CAAlB,CAAhB;AACD,iBAFD;kDAGOJ,W;;;;;;;;;;;;;;;;;;;mGAGUJ,M;;;;;;;uBACEd,UAAU,CAACuB,WAAX,CAAuBT,MAAvB,C;;;AAAbP,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,cAAcF,IAAI,CAACI,GAA7B,C;;;kDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;uGAGSJ,M;;;;;;;uBACFH,UAAU,CAACwB,eAAX,CAA2BrB,MAA3B,C;;;AAAbI,gBAAAA,I;;oBACDA,IAAI,CAACC,O;;;;;sBACF,IAAIC,KAAJ,CAAU,gBAAgBF,IAAI,CAACI,GAA/B,C;;;kDAEDJ,IAAI,CAACA,I;;;;;;;;;;;;;;;;;;;;;AAGhB,eAAe,IAAIL,WAAJ,EAAf","sourcesContent":["import repository from '../repository'\r\nimport locationService from './LocationService'\r\nclass ShopService {\r\n  async getShopListByCategory (params) {\r\n    const data = await repository.getShopByCategory({\r\n      location: locationService.getLocation().location,\r\n      ...params\r\n    })\r\n    if (!data.success) {\r\n      throw new Error(`获取分类${params.categoryId}下的店铺失败:${data.msg}`)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getNearyByShop () {\r\n    const data = await repository.getNearByShop(locationService.getLocation().location)\r\n    if (!data.success) {\r\n      throw new Error('获取附近店铺失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async searchShop (params) {\r\n    const data = await repository.searchShop(params)\r\n    if (!data.success) {\r\n      throw new Error('搜索店铺失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getShopInfo (shopId) {\r\n    const data = await repository.getShopInfo(shopId)\r\n    if (!data.success) {\r\n      throw new Error('获取店铺信息失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getShopProductCategory (shopId) {\r\n    const data = await repository.getShopProductCategory(shopId)\r\n    if (!data.success) {\r\n      throw new Error('获取店铺商品分类失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getProductList (shopId, categoryId) {\r\n    const data = await repository.getProductList(shopId, categoryId)\r\n    if (!data.success) {\r\n      throw new Error('获取商品列表失败:' + data.msg)\r\n    }\r\n    const productList = data.data\r\n    // 设置默认选中规格\r\n    productList.forEach(v => {\r\n      v.defaultSpec = v.productSpecList[0]\r\n    })\r\n    return productList\r\n  }\r\n\r\n  async getShopEval (shopId) {\r\n    const data = await repository.getShopEval(shopId)\r\n    if (!data.success) {\r\n      throw new Error('获取店铺评价失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n\r\n  async getShopEvalList (params) {\r\n    const data = await repository.getShopEvalList(params)\r\n    if (!data.success) {\r\n      throw new Error('获取店铺评价列表失败:' + data.msg)\r\n    }\r\n    return data.data\r\n  }\r\n}\r\nexport default new ShopService()\r\n"]}]}