{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\thread-loader\\dist\\cjs.js!D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\blb-consumer-frontend\\src\\views\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\views\\List.vue","mtime":1606571741849},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovcHJvamVjdC9ibGItY29uc3VtZXItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2hvcExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy90YWtlYXdheS9TaG9wTGlzdCc7CmltcG9ydCBzaG9wU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlL1Nob3BTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG9wRGF0YToge30sCiAgICAgIGNhdGVnb3J5SWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeUlkLAogICAgICBwYWdlOiAxLAogICAgICBzaXplOiAxMgogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNob3BEYXRhKCk7CiAgfSwKICBiZWZvcmVSb3V0ZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpIHsKICAgIGlmICghdG8uZnVsbFBhdGguc3RhcnRzV2l0aCgnL2xpc3QnKSkgewogICAgICByZXR1cm4gbmV4dCgpOwogICAgfQoKICAgIG5leHQoKTsgLy8g6Lez6L2s5Yiw5YW25LuW5YiG57G75LiL6aKd5bqX6ZO66aG16Z2iCgogICAgdGhpcy5wYWdlID0gMTsKICAgIHRoaXMuc2l6ZSA9IDI7CiAgICB0aGlzLmNhdGVnb3J5SWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcnlJZDsKICAgIHRoaXMuZ2V0U2hvcERhdGEoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNob3BMaXN0OiBTaG9wTGlzdAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U2hvcERhdGE6IGZ1bmN0aW9uIGdldFNob3BEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc2hvcERhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBzaG9wU2VydmljZS5nZXRTaG9wTGlzdEJ5Q2F0ZWdvcnkoewogICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBfdGhpcy4kcm91dGUucGFyYW1zLmNhdGVnb3J5SWQsCiAgICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzLnBhZ2UsCiAgICAgICAgICAgICAgICAgIHNpemU6IF90aGlzLnNpemUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBzaG9wRGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG9wRGF0YSA9IHNob3BEYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihfY29udGV4dC50MC5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlUGFnZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlUGFnZUNoYW5nZSh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLnBhZ2UgPSB2YWw7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldFNob3BEYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMi5zY3JvbGxUb1RvcCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuc2l6ZSA9IHZhbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZ2V0U2hvcERhdGEoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMzLnNjcm9sbFRvVG9wKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNjcm9sbFRvVG9wOiBmdW5jdGlvbiBzY3JvbGxUb1RvcCgpIHsKICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICB0b3A6IDAKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,QAAA,MAAA,iCAAA;AACA,OAAA,WAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,UAFA;AAGA,MAAA,IAAA,EAAA,CAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,WAAA;AACA,GAXA;AAYA,EAAA,iBAZA,6BAYA,EAZA,EAYA,IAZA,EAYA,IAZA,EAYA;AACA,QAAA,CAAA,EAAA,CAAA,QAAA,CAAA,UAAA,CAAA,OAAA,CAAA,EAAA;AACA,aAAA,IAAA,EAAA;AACA;;AACA,IAAA,IAAA,GAJA,CAKA;;AACA,SAAA,IAAA,GAAA,CAAA;AACA,SAAA,IAAA,GAAA,CAAA;AACA,SAAA,UAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,UAAA;AACA,SAAA,WAAA;AACA,GAtBA;AAuBA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAvBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,WAAA,CAAA,qBAAA,CAAA;AACA,kBAAA,UAAA,EAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UADA;AAEA,kBAAA,IAAA,EAAA,KAAA,CAAA,IAFA;AAGA,kBAAA,IAAA,EAAA,KAAA,CAAA;AAHA,iBAAA,CAFA;;AAAA;AAEA,gBAAA,QAFA;AAOA,gBAAA,KAAA,CAAA,QAAA,GAAA,QAAA;AAPA;AAAA;;AAAA;AAAA;AAAA;;AASA,gBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,OAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KAZA;AAaA,IAAA,gBAbA,4BAaA,GAbA,EAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AADA;AAAA,uBAEA,MAAA,CAAA,WAAA,EAFA;;AAAA;AAGA,gBAAA,MAAA,CAAA,WAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAjBA;AAkBA,IAAA,gBAlBA,4BAkBA,GAlBA,EAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,GAAA;AADA;AAAA,uBAEA,MAAA,CAAA,WAAA,EAFA;;AAAA;AAGA,gBAAA,MAAA,CAAA,WAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAtBA;AAuBA,IAAA,WAvBA,yBAuBA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA;AACA;AAzBA;AA1BA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <shop-list style=\"margin-top:10px\" :title=\"'分类结果'\" :shopList=\"shopData.data\"></shop-list>\r\n    <el-card v-if=\"shopData.data\" style=\"margin-top:10px;text-align:center\">\r\n      <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      background\r\n      @current-change=\"handlePageChange\"\r\n      :current-page=\"page\"\r\n      :page-sizes=\"[4, 12, 20, 30]\"\r\n      :page-size=\"size\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"shopData.total\">\r\n    </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ShopList from '../components/takeaway/ShopList'\r\nimport shopService from '../service/ShopService'\r\nexport default {\r\n  data () {\r\n    return {\r\n      shopData: {},\r\n      categoryId: this.$route.params.categoryId,\r\n      page: 1,\r\n      size: 12\r\n    }\r\n  },\r\n  created () {\r\n    this.getShopData()\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    if (!to.fullPath.startsWith('/list')) {\r\n      return next()\r\n    }\r\n    next()\r\n    // 跳转到其他分类下额店铺页面\r\n    this.page = 1\r\n    this.size = 2\r\n    this.categoryId = this.$route.params.categoryId\r\n    this.getShopData()\r\n  },\r\n  components: {\r\n    ShopList\r\n  },\r\n  methods: {\r\n    async getShopData () {\r\n      try {\r\n        const shopData = await shopService.getShopListByCategory({\r\n          categoryId: this.$route.params.categoryId,\r\n          page: this.page,\r\n          size: this.size\r\n        })\r\n        this.shopData = shopData\r\n      } catch (e) {\r\n        this.$message.error(e.message)\r\n      }\r\n    },\r\n    async handlePageChange (val) {\r\n      this.page = val\r\n      await this.getShopData()\r\n      this.scrollToTop()\r\n    },\r\n    async handleSizeChange (val) {\r\n      this.size = val\r\n      await this.getShopData()\r\n      this.scrollToTop()\r\n    },\r\n    scrollToTop () {\r\n      window.scrollTo({ top: 0 })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views"}]}