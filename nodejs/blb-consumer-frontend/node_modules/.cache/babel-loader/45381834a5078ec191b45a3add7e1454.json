{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\thread-loader\\dist\\cjs.js!D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\blb-consumer-frontend\\src\\components\\shop\\ShopProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\components\\shop\\ShopProduct.vue","mtime":1606571741837},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Byb2plY3QvYmxiLWNvbnN1bWVyLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNob3BTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2UvU2hvcFNlcnZpY2UnOwppbXBvcnQgUHJvZHVjdEl0ZW0gZnJvbSAnLi9Qcm9kdWN0SXRlbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydzaG9wSWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdExpc3Q6IFtdLAogICAgICBwcm9kdWN0U3BlY01hcDoge30sCiAgICAgIHByb2R1Y3RDaG9vc2VkU3BlY01hcDoge30sCiAgICAgIGNhdGVnb3J5TGlzdDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2F0ZWdvcnlBY3RpdmVOYW1lOiBmdW5jdGlvbiBjYXRlZ29yeUFjdGl2ZU5hbWUoKSB7CiAgICAgIGlmICh0aGlzLmNhdGVnb3J5TGlzdFswXSkgewogICAgICAgIHJldHVybiB0aGlzLmNhdGVnb3J5TGlzdFswXS5jYXRlZ29yeUlkICsgJyc7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdEl0ZW06IFByb2R1Y3RJdGVtCiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDYXRlZ29yeVRhYkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDYXRlZ29yeVRhYkNsaWNrKGl0ZW0pIHsKICAgICAgdGhpcy5nZXRQcm9kdWN0TGlzdChpdGVtLm5hbWUpOwogICAgfSwKICAgIGdldFByb2R1Y3RMaXN0OiBmdW5jdGlvbiBnZXRQcm9kdWN0TGlzdChjYXRlZ29yeUlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gc2hvcFNlcnZpY2UuZ2V0UHJvZHVjdExpc3QoX3RoaXMuc2hvcElkLCBjYXRlZ29yeUlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMucHJvZHVjdExpc3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKF9jb250ZXh0LnQwLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWZyZXNoUHJvZHVjdExpc3Q6IGZ1bmN0aW9uIHJlZnJlc2hQcm9kdWN0TGlzdCgpIHsKICAgICAgaWYgKHRoaXMuY2F0ZWdvcnlBY3RpdmVOYW1lKSB7CiAgICAgICAgdGhpcy5nZXRQcm9kdWN0TGlzdCh0aGlzLmNhdGVnb3J5QWN0aXZlTmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRQcm9kdWN0Q2F0ZWdvcnk6IGZ1bmN0aW9uIGdldFByb2R1Y3RDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHNob3BTZXJ2aWNlLmdldFNob3BQcm9kdWN0Q2F0ZWdvcnkoX3RoaXMyLnNob3BJZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMi5jYXRlZ29yeUxpc3QgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICAvLyDojrflj5bllYblk4Hnm67lvZXlrozmiJDvvIzop6blj5Fwcm9kdWN05pu05pawCiAgICAgICAgICAgICAgICBfdGhpczIucmVmcmVzaFByb2R1Y3RMaXN0KCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKF9jb250ZXh0Mi50MC5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRQcm9kdWN0Q2F0ZWdvcnkoKTsKICB9Cn07"},{"version":3,"sources":["ShopProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,WAAA,MAAA,2BAAA;AACA,OAAA,WAAA,MAAA,eAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,QAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,qBAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,UAAA,KAAA,YAAA,CAAA,CAAA,CAAA,EAAA;AACA,eAAA,KAAA,YAAA,CAAA,CAAA,EAAA,UAAA,GAAA,EAAA;AACA;;AACA,aAAA,IAAA;AACA;AANA,GAVA;AAkBA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAlBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,kCACA,IADA,EACA;AACA,WAAA,cAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,UAJA,EAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,WAAA,CAAA,cAAA,CAAA,KAAA,CAAA,MAAA,EAAA,UAAA,CAFA;;AAAA;AAEA,gBAAA,KAAA,CAAA,WAFA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIA,gBAAA,OAAA,CAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,OAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAXA;AAYA,IAAA,kBAZA,gCAYA;AACA,UAAA,KAAA,kBAAA,EAAA;AACA,aAAA,cAAA,CAAA,KAAA,kBAAA;AACA;AACA,KAhBA;AAiBA,IAAA,kBAjBA,gCAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,WAAA,CAAA,sBAAA,CAAA,MAAA,CAAA,MAAA,CAFA;;AAAA;AAEA,gBAAA,MAAA,CAAA,YAFA;;AAGA;AACA,gBAAA,MAAA,CAAA,kBAAA;;AAJA;AAAA;;AAAA;AAAA;AAAA;;AAMA,gBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,aAAA,OAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAzBA,GArBA;AAgDA,EAAA,OAhDA,qBAgDA,CAAA,CAhDA;AAiDA,EAAA,OAjDA,qBAiDA;AACA,SAAA,kBAAA;AACA;AAnDA,CAAA","sourcesContent":["<template>\r\n  <el-tabs tab-position=\"left\"\r\n  :value=\"categoryActiveName\"\r\n  @tab-click=\"handleCategoryTabClick\"\r\n  >\r\n    <!-- 商品分类选项栏 -->\r\n    <el-tab-pane :label=\"item.categoryName\" :name=\"item.categoryId + ''\" v-for=\"item in categoryList\" :key=\"item.categoryId\">\r\n        <div class=\"clearfix product-cate-title\">\r\n          <h2>{{item.categoryName}}</h2><span> {{item.categoryDesc}}</span>\r\n        </div>\r\n        <el-alert title=\"没有数据\" v-if=\"productList.length == 0\" :closable=\"false\"></el-alert>\r\n        <ul class=\"product-list\">\r\n          <transition-group name=\"list\">\r\n            <li v-for=\"item in productList\" :key=\"item.productId\">\r\n              <product-item :product=\"item\" :shopId=\"shopId\"/>\r\n            </li>\r\n          </transition-group>\r\n        </ul>\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n</template>\r\n\r\n<script>\r\nimport shopService from '../../service/ShopService'\r\nimport ProductItem from './ProductItem'\r\nexport default {\r\n  props: ['shopId'],\r\n  data () {\r\n    return {\r\n      productList: [],\r\n      productSpecMap: {},\r\n      productChoosedSpecMap: {},\r\n      categoryList: []\r\n    }\r\n  },\r\n  computed: {\r\n    categoryActiveName () {\r\n      if (this.categoryList[0]) {\r\n        return this.categoryList[0].categoryId + ''\r\n      }\r\n      return null\r\n    }\r\n  },\r\n  components: {\r\n    ProductItem\r\n  },\r\n  methods: {\r\n    handleCategoryTabClick (item) {\r\n      this.getProductList(item.name)\r\n    },\r\n    async getProductList (categoryId) {\r\n      try {\r\n        this.productList = await shopService.getProductList(this.shopId, categoryId)\r\n      } catch (e) {\r\n        console.error(e)\r\n        this.$message.error(e.message)\r\n      }\r\n    },\r\n    refreshProductList () {\r\n      if (this.categoryActiveName) {\r\n        this.getProductList(this.categoryActiveName)\r\n      }\r\n    },\r\n    async getProductCategory () {\r\n      try {\r\n        this.categoryList = await shopService.getShopProductCategory(this.shopId)\r\n        // 获取商品目录完成，触发product更新\r\n        this.refreshProductList()\r\n      } catch (e) {\r\n        this.$message.error(e.message)\r\n      }\r\n    }\r\n  },\r\n  mounted () {},\r\n  created () {\r\n    this.getProductCategory()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .list-item {\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n  }\r\n  .list-enter-active, .list-leave-active {\r\n    transition: all 1s;\r\n  }\r\n  .list-enter, .list-leave-to\r\n  /* .list-leave-active for below version 2.1.8 */ {\r\n    opacity: 0;\r\n    transform: translateY(30px);\r\n  }\r\n  .el-tabs__item .is-left {\r\n    height: 48px!important;\r\n  }\r\n  .product-cate-title {\r\n    h2 {\r\n      display: inline;\r\n      font-size: 16px;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n    span {\r\n      font-size: 14px;\r\n      color: #666;\r\n    }\r\n  }\r\n  .product-list {\r\n    padding: 0;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/shop"}]}