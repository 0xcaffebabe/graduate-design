{"remainingRequest":"D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\blb-consumer-frontend\\src\\views\\Search.vue?vue&type=style&index=0&id=1a1d373c&lang=less&scoped=true&","dependencies":[{"path":"D:\\project\\blb-consumer-frontend\\src\\views\\Search.vue","mtime":1606571741851},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\blb-consumer-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtYXV0b2NvbXBsZXRlIC9kZWVwLyAuZWwtaW5wdXRfX2lubmVyIHsKICBwYWRkaW5nOiAxNXB4OwogIGZvbnQtc2l6ZTogMTZweDsKICBoZWlnaHQ6IDYwcHg7Cn0KLmVsLWF1dG9jb21wbGV0ZSAvZGVlcC8gLmVsLWljb24tc2VhcmNoIHsKICBmb250LXNpemU6IDE2cHg7CiAgY29sb3I6ICMzMzM7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci5zaG9wLW5hbWUgewogIGZvbnQtc2l6ZTogMTZweDsKfQouc2hvcC1hZGRyIHsKICBjb2xvcjogIzk5OTsKfQo="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator=\"/\" style=\"margin-bottom:20px\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>搜索</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <div style=\"text-align:center\" class=\"search-box-container\">\r\n      <el-autocomplete\r\n        style=\"width:600px\"\r\n        class='search-input'\r\n        v-model='input'\r\n        :fetch-suggestions='querySearch'\r\n        placeholder='请输入内容'\r\n        suffix-icon=\"el-icon-search\"\r\n        @select='handleSelect'\r\n        @keyup.enter=\"search\"\r\n      >\r\n        <template v-slot=\"{ item }\">\r\n          <div class=\"shop-name\">{{ item.value }}</div>\r\n          <div class=\"shop-addr\"> <span class=\"el-icon-location\"></span> {{ item.address }}</div>\r\n        </template>\r\n      </el-autocomplete>\r\n      <!-- <el-button type=\"primary\" style=\"margin-left:20px\" @click=\"search\">搜索</el-button> -->\r\n    </div>\r\n    <shop-list v-if=\"shopList.length != 0\" style=\"margin-top:10px\" :title=\"'搜索结果'\" :shopList=\"shopList\"></shop-list>\r\n    <el-card v-if=\"shopList.length != 0\" style=\"margin-top:10px;text-align:center\">\r\n      <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      background\r\n      @current-change=\"handlePageChange\"\r\n      :current-page=\"page\"\r\n      :page-sizes=\"[5, 12, 20, 30]\"\r\n      :page-size=\"size\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ShopList from '../components/takeaway/ShopList'\r\nimport shopService from '../service/ShopService'\r\nexport default {\r\n  data () {\r\n    return {\r\n      input: '',\r\n      shopList: [],\r\n      page: 1,\r\n      size: 12,\r\n      total: 0\r\n    }\r\n  },\r\n  components: {\r\n    ShopList\r\n  },\r\n  methods: {\r\n    querySearch (queryString, cb) {\r\n      cb(this.loadAll())\r\n    },\r\n    loadAll () {\r\n      return [\r\n        {\r\n          value: '黄焖鸡米饭',\r\n          address: '鲤城区媒人桥路2号店'\r\n        },\r\n        {\r\n          value: '沙县小吃',\r\n          address: '丰泽区泰禾广场3号店'\r\n        },\r\n        {\r\n          value: '饿点外卖',\r\n          address: '客运中心站4号店'\r\n        }\r\n      ]\r\n    },\r\n    handleSelect (item) {\r\n      this.search()\r\n    },\r\n    async search () {\r\n      try {\r\n        const data = await shopService.searchShop({\r\n          kw: this.input,\r\n          page: this.page,\r\n          size: this.size\r\n        })\r\n        this.shopList = data.data\r\n        this.total = data.total\r\n      } catch (e) {\r\n        this.$message.error(e.message)\r\n      }\r\n    },\r\n    async handleSizeChange (val) {\r\n      this.size = val\r\n      await this.search()\r\n      this.scrollToTop()\r\n    },\r\n    async handlePageChange (val) {\r\n      this.page = val\r\n      await this.search()\r\n      this.scrollToTop()\r\n    },\r\n    scrollToTop () {\r\n      window.scrollTo({ top: 0 })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .el-autocomplete /deep/ .el-input__inner {\r\n    padding: 15px;\r\n    font-size: 16px;\r\n    height: 60px;\r\n  }\r\n  .el-autocomplete /deep/ .el-icon-search {\r\n    font-size: 16px;\r\n    color: #333;\r\n    margin-right: 10px;\r\n  }\r\n  .shop-name {\r\n    font-size: 16px;\r\n  }\r\n  .shop-addr {\r\n    color: #999;\r\n  }\r\n</style>\r\n"]}]}